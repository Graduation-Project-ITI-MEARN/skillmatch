import{a as O}from"./chunk-MMO3LV47.js";import{c as I,e as R}from"./chunk-GEE437AJ.js";import"./chunk-5FFKEXUF.js";import{j as L,q as C,s as B}from"./chunk-OAPWU2O3.js";import{Ab as b,Ac as s,Db as D,Eb as E,Fb as A,Gb as a,Hb as n,Ub as _,Wa as i,Wb as g,_ as f,hc as u,ic as d,jc as h,kb as v,kc as o,lc as S,wc as y,zb as x,zc as p}from"./chunk-565OUHKP.js";var w=(t,e)=>({"bg-gradient-to-right from-blue-400/20 to-purple-400/20 border-blue-300":t,"bg-white hover:bg-gray-50 border-gray-200":e}),F=(t,e)=>e._id;function H(t,e){t&1&&(a(0,"div",7),d(1),p(2,"translate"),n()),t&2&&(i(),o(" ",s(2,1,"DASHBOARD.LEADERBOARD.LOADING")," "))}function U(t,e){t&1&&(a(0,"span"),d(1,"\u{1F947}"),n())}function k(t,e){t&1&&(a(0,"span"),d(1,"\u{1F948}"),n())}function M(t,e){t&1&&(a(0,"span"),d(1,"\u{1F949}"),n())}function N(t,e){if(t&1&&(a(0,"span"),d(1),n()),t&2){let l=g().$index;i(),o("#",l+1)}}function $(t,e){t&1&&(a(0,"span",13),d(1),p(2,"translate"),n()),t&2&&(i(),o("(",s(2,1,"DASHBOARD.LEADERBOARD.YOU"),")"))}function j(t,e){if(t&1&&(a(0,"div",8)(1,"div",9),x(2,U,2,0,"span")(3,k,2,0,"span")(4,M,2,0,"span")(5,N,2,1,"span"),n(),a(6,"div",10),d(7),n(),a(8,"div",11)(9,"h3",12),d(10),x(11,$,3,3,"span",13),n(),a(12,"p",14),d(13),p(14,"translate"),n()(),a(15,"div",15)(16,"div",16),d(17),p(18,"number"),n(),a(19,"div",17),d(20),p(21,"translate"),n()()()),t&2){let l,r=e.$implicit,c=e.$index,m=g();A("id",r._id)("ngClass",y(16,w,m.isCurrentUser(r._id),!m.isCurrentUser(r._id))),i(2),b((l=c)===0?2:l===1?3:l===2?4:5),i(5),o(" ",m.getInitials(r.name)," "),i(3),o(" ",r.name," "),i(),b(m.isCurrentUser(r._id)?11:-1),i(2),S(" ",r.completedChallenges||0," ",s(14,10,"DASHBOARD.LEADERBOARD.CHALLENGES_COMPLETED")," "),i(4),o(" ",s(18,12,r.score)," "),i(3),o(" ",s(21,14,"DASHBOARD.LEADERBOARD.TOTAL_SCORE")," ")}}var T=class t{constructor(){this.candidateService=f(O);this.leaderboard=[];this.currentUserId=null;this.activeFilter="all"}ngOnInit(){this.fetchCurrentUser(),this.fetchLeaderboard()}fetchCurrentUser(){this.candidateService.getMe().subscribe({next:e=>{this.currentUserId=e.data._id}})}fetchLeaderboard(){this.candidateService.getLeaderboard().subscribe({next:e=>{this.leaderboard=e.data||e},error:e=>console.error("Error fetching leaderboard",e)})}isCurrentUser(e){return this.currentUserId===e}getInitials(e){return e?e.split(" ").map(l=>l[0]).slice(0,2).join("").toUpperCase():"U"}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275cmp=v({type:t,selectors:[["app-leaderboard"]],decls:23,vars:22,consts:[[1,"space-y-8","animate-fade-in"],[1,"flex","items-center","justify-between","flex-wrap","gap-4"],[1,"text-2xl","font-bold","mb-2","text-gray-800"],[1,"text-gray-600"],[1,"flex","gap-2"],[1,"px-4","py-2","rounded-lg","transition-all","text-sm","font-medium",3,"click"],[1,"space-y-3"],[1,"text-center","py-10","text-gray-500"],[1,"flex","items-center","gap-6","p-6","rounded-2xl","transition-all","border",3,"id","ngClass"],[1,"w-12","text-center","text-2xl","text-gray-500","font-bold"],[1,"w-10","h-10","rounded-full","bg-primary-gradient","flex","items-center","justify-center","text-white","font-bold","text-sm","shadow-sm"],[1,"flex-1"],[1,"mb-1","font-semibold","text-gray-900"],[1,"text-blue-600","ml-1"],[1,"text-sm","text-gray-600"],[1,"text-right"],[1,"text-2xl","mb-1","font-bold","text-gray-800"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"]],template:function(l,r){l&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),d(4),p(5,"translate"),n(),a(6,"p",3),d(7),p(8,"translate"),n()(),a(9,"div",4)(10,"button",5),_("click",function(){return r.activeFilter="all"}),d(11),p(12,"translate"),n(),a(13,"button",5),_("click",function(){return r.activeFilter="month"}),d(14),p(15,"translate"),n(),a(16,"button",5),_("click",function(){return r.activeFilter="week"}),d(17),p(18,"translate"),n()()(),a(19,"div",6),x(20,H,3,3,"div",7),D(21,j,22,19,"div",8,F),n()()),l&2&&(i(4),o(" ",s(5,12,"DASHBOARD.LEADERBOARD.TITLE")," "),i(3),h(s(8,14,"DASHBOARD.LEADERBOARD.SUBTITLE")),i(3),u(r.activeFilter==="all"?"bg-gray-900 text-white":"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700"),i(),o(" ",s(12,16,"DASHBOARD.LEADERBOARD.ALL_TIME")," "),i(2),u(r.activeFilter==="month"?"bg-gray-900 text-white":"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700"),i(),o(" ",s(15,18,"DASHBOARD.LEADERBOARD.THIS_MONTH")," "),i(2),u(r.activeFilter==="week"?"bg-gray-900 text-white":"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700"),i(),o(" ",s(18,20,"DASHBOARD.LEADERBOARD.THIS_WEEK")," "),i(3),b(r.leaderboard.length===0?20:-1),i(),E(r.leaderboard))},dependencies:[B,L,R,C,I],encapsulation:2})}};export{T as Leaderboard};
