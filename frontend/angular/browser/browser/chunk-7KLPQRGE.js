import{Ea as j,J as O,Na as B,P,db as M,h as N,ib as Y,lb as R,mb as D}from"./chunk-XQKT32VU.js";import{c as C,e as L,f as y}from"./chunk-GEE437AJ.js";import{b as _}from"./chunk-5FFKEXUF.js";import{k as I,l as w,q as E,s as T}from"./chunk-OAPWU2O3.js";import{Ac as s,Bc as b,Fb as m,Gb as t,Hb as i,Ib as c,Wa as e,Wb as h,_ as A,f,ic as n,jc as g,kb as S,kc as l,lc as u,pb as x,s as v,zc as d}from"./chunk-565OUHKP.js";function U(o,p){o&1&&(t(0,"div",21),c(1,"div",22),t(2,"p",23),n(3),d(4,"translate"),i()()),o&2&&(e(3),g(s(4,1,"COMMON.LOADING")))}function k(o,p){if(o&1&&(t(0,"div",28)(1,"div",29)(2,"div",30)(3,"h4",31),n(4),i(),t(5,"p",32),n(6),d(7,"translate"),i()(),t(8,"div",33)(9,"div",34)(10,"p",35),n(11),d(12,"translate"),i(),t(13,"p",36),n(14),i()(),t(15,"div",37)(16,"p",38),n(17),d(18,"translate"),i(),t(19,"p",39),n(20),i()()()()()),o&2){let r=p.$implicit;e(4),l(" ",r.title," "),e(2),u(" ",r.submissionsCount," ",s(7,7,"ANALYTICS.SUBMISSIONS_COUNT")," "),e(5),l(" ",s(12,9,"ANALYTICS.AVG_SCORE")," "),e(3),l(" ",r.avgScore," "),e(3),l(" ",s(18,11,"ANALYTICS.TOP_SCORE")," "),e(3),l(" ",r.topScore," ")}}function G(o,p){if(o&1&&(t(0,"div",26),x(1,k,21,13,"div",27),i()),o&2){let r=h(2);e(),m("ngForOf",r.jobPerformance)}}function H(o,p){o&1&&(t(0,"div",40)(1,"p"),n(2),d(3,"translate"),i()()),o&2&&(e(2),g(s(3,1,"NO_DATA")))}function V(o,p){if(o&1&&(t(0,"div"),x(1,G,2,1,"div",24)(2,H,4,3,"div",25),i()),o&2){let r=h();e(),m("ngIf",r.jobPerformance&&r.jobPerformance.length>0),e(),m("ngIf",r.jobPerformance&&r.jobPerformance.length===0)}}var F=class o{constructor(){this.http=A(_);this.icons={Download:P,Layout:j,Send:B,TrendingUp:M,Users:Y,Award:N,Clock:O};this.isLoading=!0;this.hiringAnalytics=null;this.jobPerformance=[]}ngOnInit(){return f(this,null,function*(){yield this.fetchAnalyticsData()})}fetchAnalyticsData(){return f(this,null,function*(){try{this.isLoading=!0;let[p,r]=yield Promise.all([v(this.http.get(`${y.apiUrl}/stats/hiring-analytics`)),v(this.http.get(`${y.apiUrl}/stats/job-performance`))]);p?.success&&(this.hiringAnalytics=p.data),r?.success&&(this.jobPerformance=r.data),console.log("Analytics Loaded Successfully:",{stats:this.hiringAnalytics,performance:this.jobPerformance})}catch(p){console.error("Error fetching analytics data from server:",p)}finally{this.isLoading=!1}})}downloadReport(){console.log("Initiating report download for:",this.hiringAnalytics),alert("Preparing your detailed report for download...")}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=S({type:o,selectors:[["app-company-analytics"]],decls:73,vars:47,consts:[[1,"min-h-screen","bg-[#F8FAFC]"],[1,"max-w-7xl","mx-auto"],[1,"mb-10"],[1,"text-xl","md:text-3xl","font-bold","text-slate-900"],[1,"text-slate-500","mt-1","text-sm","md:text-base"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6","mb-12"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border","border-slate-100","flex","items-center","gap-5","hover:shadow-md","transition-all"],[1,"w-14","h-14","rounded-xl","bg-blue-50","flex","items-center","justify-center","text-blue-600"],[1,"w-7","h-7",3,"img"],[1,"text-xl","font-bold","text-slate-600","uppercase","tracking-wider"],[1,"text-xl","font-bold","text-slate-900","mt-2","p-2"],[1,"w-14","h-14","rounded-xl","bg-purple-50","flex","items-center","justify-center","text-purple-600"],[1,"w-14","h-14","rounded-xl","bg-emerald-50","flex","items-center","justify-center","text-emerald-600"],[1,"w-14","h-14","rounded-xl","bg-orange-50","flex","items-center","justify-center","text-orange-600"],[1,"w-14","h-14","rounded-xl","bg-indigo-50","flex","items-center","justify-center","text-indigo-600"],[1,"w-14","h-14","rounded-xl","bg-rose-50","flex","items-center","justify-center","text-rose-600"],[1,"mb-14"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-bold","text-slate-800"],["class","text-center py-12",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-12"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-gray-900"],[1,"mt-2","text-gray-600"],["class","grid gap-5",4,"ngIf"],["class","text-center py-12 text-gray-500",4,"ngIf"],[1,"grid","gap-5"],["class","bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow duration-200",4,"ngFor","ngForOf"],[1,"bg-white","p-6","rounded-2xl","border","border-slate-100","shadow-sm","hover:shadow-md","transition-shadow","duration-200"],[1,"flex","flex-col","gap-6"],[1,"flex-1"],[1,"text-base","font-bold","text-slate-900","leading-tight"],[1,"text-xs","text-slate-800","mt-2"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","justify-center","text-center"],[1,"px-3","py-3","rounded-xl","bg-white","border","border-indigo-200","shadow-sm","hover:shadow-md","transition-shadow","duration-200","max-w-xs","mx-5"],[1,"text-[10px]","font-bold","text-indigo-400","uppercase","tracking-wide"],[1,"text-xl","font-bold","text-indigo-600","mt-1"],[1,"px-3","py-3","rounded-xl","bg-white","border","border-emerald-200","shadow-sm","hover:shadow-md","transition-shadow","duration-200","max-w-xs","mx-5"],[1,"text-[10px]","font-bold","text-emerald-400","uppercase","tracking-wide"],[1,"text-xl","font-bold","text-emerald-600","mt-1"],[1,"text-center","py-12","text-gray-500"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"div",1)(2,"header",2)(3,"h1",3),n(4),d(5,"translate"),i(),t(6,"p",4),n(7),d(8,"translate"),i()(),t(9,"div",5)(10,"div",6)(11,"div",7),c(12,"lucide-icon",8),i(),t(13,"div")(14,"p",9),n(15),d(16,"translate"),i(),t(17,"h3",10),n(18),i()()(),t(19,"div",6)(20,"div",11),c(21,"lucide-icon",8),i(),t(22,"div")(23,"p",9),n(24),d(25,"translate"),i(),t(26,"h3",10),n(27),i()()(),t(28,"div",6)(29,"div",12),c(30,"lucide-icon",8),i(),t(31,"div")(32,"p",9),n(33),d(34,"translate"),i(),t(35,"h3",10),n(36),d(37,"number"),i()()(),t(38,"div",6)(39,"div",13),c(40,"lucide-icon",8),i(),t(41,"div")(42,"p",9),n(43),d(44,"translate"),i(),t(45,"h3",10),n(46),i()()(),t(47,"div",6)(48,"div",14),c(49,"lucide-icon",8),i(),t(50,"div")(51,"p",9),n(52),d(53,"translate"),i(),t(54,"h3",10),n(55),i()()(),t(56,"div",6)(57,"div",15),c(58,"lucide-icon",8),i(),t(59,"div")(60,"p",9),n(61),d(62,"translate"),i(),t(63,"h3",10),n(64),d(65,"translate"),i()()()(),t(66,"section",16)(67,"div",17)(68,"h2",18),n(69),d(70,"translate"),i()(),x(71,U,5,3,"div",19)(72,V,3,2,"div",20),i()()()),r&2&&(e(4),l(" ",s(5,24,"ANALYTICS.TITLE")," "),e(3),g(s(8,26,"ANALYTICS.SUBTITLE")),e(5),m("img",a.icons.Layout),e(3),l(" ",s(16,28,"ANALYTICS.TOTAL_CHALLENGES")," "),e(3),l(" ",(a.hiringAnalytics==null?null:a.hiringAnalytics.totalChallenges)||0," "),e(3),m("img",a.icons.Send),e(3),l(" ",s(25,30,"ANALYTICS.TOTAL_SUBMISSIONS")," "),e(3),l(" ",(a.hiringAnalytics==null?null:a.hiringAnalytics.totalSubmissions)||0," "),e(3),m("img",a.icons.TrendingUp),e(3),l(" ",s(34,32,"ANALYTICS.APP_RATE")," "),e(3),l(" ",b(37,34,(a.hiringAnalytics==null?null:a.hiringAnalytics.applicationRate)*100,"1.0-1"),"% "),e(4),m("img",a.icons.Users),e(3),l(" ",s(44,37,"ANALYTICS.CONVERSION")," "),e(3),l(" ",(a.hiringAnalytics==null?null:a.hiringAnalytics.conversion)||0,"% "),e(3),m("img",a.icons.Award),e(3),l(" ",s(53,39,"ANALYTICS.AVG_SCORE")," "),e(3),l(" ",(a.hiringAnalytics==null?null:a.hiringAnalytics.avgScore)||0,"/100 "),e(3),m("img",a.icons.Clock),e(3),l(" ",s(62,41,"ANALYTICS.TIME_TO_HIRE")," "),e(3),u(" ",(a.hiringAnalytics==null?null:a.hiringAnalytics.avgTimeToHireDays)||0," ",s(65,43,"ANALYTICS.DAYS")," "),e(5),l(" ",s(70,45,"ANALYTICS.PERFORMANCE_LIST")," "),e(2),m("ngIf",a.isLoading),e(),m("ngIf",!a.isLoading))},dependencies:[T,I,w,L,D,R,E,C],styles:["[_nghost-%COMP%]{display:block;font-family:Inter,sans-serif}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 1px 3px #00000005}.text-xs-bold[_ngcontent-%COMP%]{font-size:11px;font-weight:600;letter-spacing:.025em}"]})}};export{F as Analytics};
