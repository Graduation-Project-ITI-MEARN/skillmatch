import{d as J}from"./chunk-BTBIWTRM.js";import"./chunk-YGBCOKBM.js";import"./chunk-2YIDOPGG.js";import"./chunk-2DHYFB3B.js";import{c as V}from"./chunk-OTNEMDPZ.js";import{a as Z,b as Y,c as q}from"./chunk-ZKGESBBT.js";import{a as W}from"./chunk-PFQCF4BB.js";import{F as j,U as u,ib as p,lb as z,mb as G,o as $,p as d,s as S}from"./chunk-XQKT32VU.js";import{c as k,e as M,f as P}from"./chunk-GEE437AJ.js";import{b as L,c as N,d as F,g as U}from"./chunk-CADW372H.js";import"./chunk-EZWRTDAZ.js";import{b as H}from"./chunk-5FFKEXUF.js";import{s as K}from"./chunk-OAPWU2O3.js";import{Ab as y,Ac as I,Cb as B,Db as C,Eb as f,Fb as s,Gb as r,Hb as l,Ib as m,Mb as x,Nb as O,Rc as w,Wa as o,Wb as b,_ as n,f as c,ic as A,kb as _,kc as g,s as D,sc as R,uc as v,zb as h,zc as E}from"./chunk-565OUHKP.js";var X=()=>["/dashboard/company/create"],tt=()=>[1,2,3,4],et=(a,t)=>t.labelKey;function at(a,t){a&1&&(r(0,"div",5),m(1,"div",6)(2,"div",7),l())}function it(a,t){a&1&&C(0,at,3,0,"div",5,B),a&2&&f(v(0,tt))}function nt(a,t){if(a&1&&(r(0,"z-stat",8),m(1,"lucide-icon",9),l()),a&2){let e=t.$implicit;s("labelKey",e.labelKey)("value",e.value)("trend",e.trend),o(),s("img",e.icon)}}function ot(a,t){if(a&1&&C(0,nt,2,4,"z-stat",8,et),a&2){let e=b(2);f(e.stats)}}function rt(a,t){if(a&1&&h(0,ot,2,0),a&2){let e=b();y(e.hasStatsData?0:-1)}}var Q=class a{constructor(){this.theme=n(q);this.authService=n(V);this.http=n(H);this.cdr=n(w);this.dialog=n(J);this.router=n(N);this.name="";this.initials="";this.isLoading=!0;this.icons={Briefcase:d,Users:p,FileText:u,BarChart3:S};this.tabs=[{labelKey:"DASHBOARD.TABS.OVERVIEW",route:"/dashboard/company/overview",icon:S},{labelKey:"DASHBOARD.TABS.SUBMISSIONS",route:"/dashboard/company/submissions",icon:u},{labelKey:"DASHBOARD.TABS.TALENT",route:"/dashboard/company/talent",icon:p},{labelKey:"DASHBOARD.TABS.PROFILE",route:"/dashboard/company/profile",icon:j}];this.stats=[];this.hasStatsData=!1}ngOnInit(){return c(this,null,function*(){this.theme.setTheme("company"),yield this.loadUserData(),yield this.loadStats(),this.isLoading=!1,this.cdr.detectChanges()})}loadUserData(){return c(this,null,function*(){try{let t=this.authService.currentUser();console.log(t),this.name=t?.name??"",this.initials=this.generateInitials(this.name)}catch{this.name="",this.initials="CO"}})}loadStats(){return c(this,null,function*(){try{let t=yield D(this.http.get(`${P.apiUrl}/stats/company`)),e=t.totalChallenges??0,i=t.totalSubmissions??0,T=t.avgScore??0;this.hasStatsData=e>0||i>0||T>0,this.stats=[{labelKey:"DASHBOARD.STATS.ACTIVE_JOBS",value:String(e),icon:d},{labelKey:"DASHBOARD.STATS.APPLICANTS",value:String(i),icon:p},{labelKey:"DASHBOARD.STATS.AVG_SCORE",value:String(T),icon:$}]}catch(t){console.error("Error loading stats:",t),this.setFallbackStats()}})}setFallbackStats(){this.hasStatsData=!1,this.stats=[{labelKey:"DASHBOARD.STATS.ACTIVE_JOBS",value:"0",trend:"",icon:d},{labelKey:"DASHBOARD.STATS.APPLICANTS",value:"0",trend:"",icon:u},{labelKey:"DASHBOARD.STATS.INTERVIEWS",value:"0",trend:"",icon:p},{labelKey:"DASHBOARD.STATS.HIRED",value:"0",trend:"",icon:S}]}generateInitials(t){let e=t.trim().split(/\s+/);return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():t.substring(0,2).toUpperCase()}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=_({type:a,selectors:[["app-company-shell"]],decls:12,vars:10,consts:[["subtitleKey","DASHBOARD.SUBTITLES.COMPANY",3,"titleKey","tabs"],["avatar","",1,"shrink-0","flex","items-center","justify-center","w-14","h-14","rounded-full","bg-primary-gradient","text-white","font-bold"],["actions","",1,"flex","items-center","gap-2","sm:gap-3"],[1,"whitespace-nowrap","px-3","py-2","md:px-6","md:py-2","bg-gray-900","text-white","rounded-lg","hover:opacity-90","transition-all","font-medium","text-[11px]","sm:text-sm","md:text-base","shadow-xl",3,"routerLink"],["stats",""],[1,"bg-white","rounded-lg","border","border-gray-200","p-6","animate-pulse"],[1,"h-4","bg-gray-200","rounded","w-1/2","mb-4"],[1,"h-8","bg-gray-200","rounded","w-1/3"],[3,"labelKey","value","trend"],["icon","",1,"w-5","h-5","text-gray-500",3,"img"]],template:function(e,i){e&1&&(r(0,"app-dashboard-layout",0)(1,"span",1),A(2),l(),r(3,"div",2),m(4,"app-notifications-dropdown"),r(5,"a",3),A(6),E(7,"translate"),l()(),x(8,4),h(9,it,2,1)(10,rt,1,1),O(),m(11,"router-outlet"),l()),e&2&&(s("titleKey",R(i.name))("tabs",i.tabs),o(2),g(" ",i.initials," "),o(3),s("routerLink",v(9,X)),o(),g(" ",I(7,7,"DASHBOARD.ACTIONS.CREATE_CHALLENGE")," "),o(3),y(i.isLoading?9:10))},dependencies:[K,Z,Y,G,z,M,U,L,F,W,k],encapsulation:2})}};export{Q as CompanyShellComponent};
