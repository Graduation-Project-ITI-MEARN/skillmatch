import{h as N}from"./chunk-LDRJV2AZ.js";import{a as F}from"./chunk-MMO3LV47.js";import{G as y,fb as M,kb as U,lb as H,mb as w,na as L,wa as R}from"./chunk-XQKT32VU.js";import{c as h,e as T}from"./chunk-GEE437AJ.js";import{a as O}from"./chunk-CADW372H.js";import"./chunk-EZWRTDAZ.js";import"./chunk-5FFKEXUF.js";import{p as f,s as B}from"./chunk-OAPWU2O3.js";import{Ab as S,Ac as d,Bb as D,Bc as v,Db as I,Eb as E,Fb as u,Gb as a,Hb as n,Ib as m,Wa as t,Wb as p,_ as x,ic as o,jc as b,kb as C,kc as l,lc as A,nc as g,zb as c,zc as s}from"./chunk-565OUHKP.js";function K(i,r){i&1&&(a(0,"div",1),m(1,"div",4),n())}function V(i,r){if(i&1&&(a(0,"div",2),m(1,"lucide-icon",5),a(2,"p",6),o(3),s(4,"translate"),n()()),i&2){let e=p();t(),u("img",e.icons.XCircle),t(2),b(d(4,2,"COMMON.ERROR_LOADING_DATA"))}}function G(i,r){if(i&1&&(a(0,"li"),o(1),n()),i&2){let e=r.$implicit;t(),b(e)}}function j(i,r){if(i&1&&(a(0,"ul",26),I(1,G,2,1,"li",null,D),n()),i&2){let e=p(3);t(),E(e.submissionDetails.aiEvaluation.strengths)}}function k(i,r){i&1&&(a(0,"p",27),o(1),s(2,"translate"),n()),i&2&&(t(),l(" ",d(2,1,"DASHBOARD.SUBMISSION_DETAILS.NO_STRENGTHS")," "))}function Y(i,r){if(i&1&&(a(0,"li"),o(1),n()),i&2){let e=r.$implicit;t(),b(e)}}function q(i,r){if(i&1&&(a(0,"ul",26),I(1,Y,2,1,"li",null,D),n()),i&2){let e=p(3);t(),E(e.submissionDetails.aiEvaluation.improvements)}}function X(i,r){i&1&&(a(0,"p",27),o(1),s(2,"translate"),n()),i&2&&(t(),l(" ",d(2,1,"DASHBOARD.SUBMISSION_DETAILS.NO_IMPROVEMENTS")," "))}function Z(i,r){if(i&1&&(a(0,"div",14)(1,"h2",17),m(2,"lucide-icon",18),o(3),s(4,"translate"),n(),a(5,"div",19)(6,"h3",20),o(7),s(8,"translate"),n(),a(9,"p",21),o(10),s(11,"translate"),n()(),a(12,"div",22)(13,"div",23)(14,"h3",24),m(15,"lucide-icon",25),o(16),s(17,"translate"),n(),c(18,j,3,0,"ul",26)(19,k,3,3,"p",27),n(),a(20,"div",28)(21,"h3",29),m(22,"lucide-icon",25),o(23),s(24,"translate"),n(),c(25,q,3,0,"ul",26)(26,X,3,3,"p",27),n()(),a(27,"div",30)(28,"div",31)(29,"span",32),o(30),s(31,"translate"),n(),a(32,"span",33),o(33),n()(),a(34,"div",34)(35,"span",35),o(36),s(37,"translate"),n(),a(38,"span",36),o(39),n()(),a(40,"div",37)(41,"span",38),o(42),s(43,"translate"),n(),a(44,"span",39),o(45),n()()(),a(46,"div",40),o(47),s(48,"translate"),s(49,"translate"),s(50,"date"),n()()),i&2){let e=p(2);t(2),u("img",e.icons.MessageSquareText),t(),l(" ",d(4,20,"DASHBOARD.SUBMISSION_DETAILS.AI_FEEDBACK")," "),t(4),l(" ",d(8,22,"DASHBOARD.SUBMISSION_DETAILS.GENERAL_FEEDBACK")," "),t(3),l(" ",e.submissionDetails.aiEvaluation.feedback||d(11,24,"DASHBOARD.SUBMISSION_DETAILS.NO_FEEDBACK")," "),t(5),u("img",e.icons.Lightbulb),t(),l(" ",d(17,26,"DASHBOARD.SUBMISSION_DETAILS.STRENGTHS")," "),t(2),S((e.submissionDetails.aiEvaluation.strengths==null?null:e.submissionDetails.aiEvaluation.strengths.length)>0?18:19),t(4),u("img",e.icons.Zap),t(),l(" ",d(24,28,"DASHBOARD.SUBMISSION_DETAILS.AREAS_FOR_IMPROVEMENT")," "),t(2),S((e.submissionDetails.aiEvaluation.improvements==null?null:e.submissionDetails.aiEvaluation.improvements.length)>0?25:26),t(5),l("",d(31,30,"DASHBOARD.SUBMISSION_DETAILS.TECHNICAL_SCORE"),":"),t(3),l("",e.submissionDetails.aiEvaluation.technicalScore||0,"%"),t(3),l("",d(37,32,"DASHBOARD.SUBMISSION_DETAILS.CLARITY_SCORE"),":"),t(3),l("",e.submissionDetails.aiEvaluation.clarityScore||0,"%"),t(3),l("",d(43,34,"DASHBOARD.SUBMISSION_DETAILS.COMMUNICATION_SCORE"),":"),t(3),l("",e.submissionDetails.aiEvaluation.communicationScore||0,"%"),t(2),g(" ",d(48,36,"DASHBOARD.SUBMISSION_DETAILS.EVALUATED_BY"),": ",e.submissionDetails.aiEvaluation.modelUsed," ",d(49,38,"DASHBOARD.SUBMISSION_DETAILS.ON"),": ",v(50,40,e.submissionDetails.aiEvaluation.evaluatedAt,"short")," ")}}function $(i,r){i&1&&(a(0,"div",15)(1,"p",41),o(2),s(3,"translate"),n(),a(4,"p",42),o(5),s(6,"translate"),n()()),i&2&&(t(2),l(" ",d(3,2,"DASHBOARD.SUBMISSION_DETAILS.NO_AI_EVALUATION_YET")," "),t(3),l(" ",d(6,4,"DASHBOARD.SUBMISSION_DETAILS.PLEASE_CHECK_BACK")," "))}function z(i,r){i&1&&(a(0,"div",16)(1,"p",41),o(2),s(3,"translate"),n(),a(4,"p",42),o(5),s(6,"translate"),n()()),i&2&&(t(2),l(" ",d(3,2,"DASHBOARD.SUBMISSION_DETAILS.EVALUATION_FAILED")," "),t(3),l(" ",d(6,4,"DASHBOARD.SUBMISSION_DETAILS.CONTACT_SUPPORT")," "))}function J(i,r){if(i&1&&(a(0,"div",3)(1,"div",7)(2,"div",8)(3,"h1",9),o(4),n(),a(5,"p",10),o(6),s(7,"translate"),s(8,"date"),n()(),a(9,"div",11)(10,"div",12),o(11),n(),a(12,"div",13),o(13),s(14,"translate"),n()()(),c(15,Z,51,43,"div",14)(16,$,7,6,"div",15)(17,z,7,6,"div",16),n()),i&2){let e=p();t(4),l(" ",e.submissionDetails.challengeId==null?null:e.submissionDetails.challengeId.title," "),t(2),A(" ",d(7,6,"DASHBOARD.SUBMISSION_DETAILS.SUBMITTED_ON"),": ",v(8,8,e.submissionDetails.createdAt,"mediumDate")," "),t(5),l(" ",e.submissionDetails.aiScore||0,"% "),t(2),l(" ",d(14,11,"DASHBOARD.PORTFOLIO.SCORE")," "),t(2),S(e.submissionDetails.aiEvaluation?15:e.submissionDetails.evaluationStatus==="completed"?16:e.submissionDetails.evaluationStatus==="failed"?17:-1)}}var P=class i{constructor(){this.route=x(O);this.candidateService=x(F);this.toast=x(N);this.submissionId=null;this.submissionDetails=null;this.isLoading=!0;this.hasError=!1;this.icons={Trophy:M,MessageSquareText:R,Lightbulb:L,Zap:U,XCircle:y}}ngOnInit(){this.route.paramMap.subscribe(r=>{this.submissionId=r.get("id"),this.submissionId?this.loadSubmissionDetails(this.submissionId):(this.toast.error("Submission ID not found."),this.hasError=!0,this.isLoading=!1)})}loadSubmissionDetails(r){this.isLoading=!0,this.hasError=!1,this.candidateService.getSubmissionById(r).subscribe({next:e=>{this.submissionDetails=e.data,this.isLoading=!1,(!this.submissionDetails||!this.submissionDetails.aiEvaluation)&&this.toast.info("No AI evaluation available for this submission yet.")},error:e=>{console.error("Failed to load submission details",e),this.toast.error("Failed to load submission details."),this.hasError=!0,this.isLoading=!1}})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=C({type:i,selectors:[["app-candidate-submission-details"]],decls:4,vars:1,consts:[[1,"animate-fade-in","p-6"],[1,"flex","justify-center","items-center","h-64"],[1,"p-10","text-center","bg-red-50","rounded-2xl","border","border-dashed","border-red-300"],[1,"bg-white","rounded-2xl","p-6","shadow-sm","border","border-gray-200"],[1,"animate-spin","w-8","h-8","border-4","border-gray-900","border-t-transparent","rounded-full"],[1,"w-8","h-8","mx-auto","mb-4","text-red-500",3,"img"],[1,"text-red-600","mb-2"],[1,"flex","items-start","justify-between","mb-4","border-b","pb-4"],[1,"space-y-4"],[1,"text-xl","font-bold","text-gray-900","mb-4"],[1,"text-sm","text-gray-600","font-medium"],[1,"text-right","pl-4"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-xs","text-gray-500","uppercase","font-semibold"],[1,"space-y-4","pt-4"],[1,"bg-blue-50","p-6","rounded-2xl","shadow-sm","text-center","text-blue-700","border","border-blue-100"],[1,"bg-red-50","p-6","rounded-2xl","shadow-sm","text-center","text-red-700","border","border-red-100"],[1,"text-lg","font-bold","text-gray-800","flex","items-center","gap-2","mb-2"],[1,"w-5","h-5","text-indigo-600",3,"img"],[1,"bg-gray-50","p-4","rounded-xl","shadow-sm","border","border-gray-100"],[1,"text-sm","font-semibold","text-gray-800","mb-2"],[1,"text-sm","text-gray-700","leading-relaxed"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-emerald-50","p-4","rounded-xl","shadow-sm","border","border-emerald-100"],[1,"text-sm","font-semibold","text-emerald-800","mb-2","flex","items-center","gap-1"],[1,"w-4","h-4",3,"img"],[1,"list-disc","pl-5","space-y-1","text-sm","text-gray-700"],[1,"text-sm","text-gray-600","italic"],[1,"bg-amber-50","p-4","rounded-xl","shadow-sm","border","border-amber-100"],[1,"text-sm","font-semibold","text-amber-800","mb-2","flex","items-center","gap-1"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4","text-center","mt-4","text-sm"],[1,"p-3","bg-blue-50","rounded-lg","space-x-2"],[1,"font-semibold","text-blue-700"],[1,"font-bold","text-blue-900"],[1,"p-3","bg-green-50","rounded-lg","space-x-2"],[1,"font-semibold","text-green-700"],[1,"font-bold","text-green-900"],[1,"p-3","bg-yellow-50","rounded-lg","space-x-2"],[1,"font-semibold","text-yellow-700"],[1,"font-bold","text-yellow-900"],[1,"text-xs","text-gray-500","pt-4","border-t","mt-4"],[1,"font-semibold"],[1,"text-sm","mt-2"]],template:function(e,_){e&1&&(a(0,"div",0),c(1,K,2,0,"div",1)(2,V,5,4,"div",2)(3,J,18,13,"div",3),n()),e&2&&(t(),S(_.isLoading?1:_.hasError?2:_.submissionDetails?3:-1))},dependencies:[B,T,w,H,f,h],encapsulation:2})}};export{P as CandidateSubmissionDetailsComponent};
