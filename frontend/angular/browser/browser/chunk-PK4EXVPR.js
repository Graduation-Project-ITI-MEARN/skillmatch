import{a as z}from"./chunk-7FDPPYTC.js";import{a as U}from"./chunk-SX7D23K2.js";import{O as R,Oa as j,S as F,a as G,fb as k,ib as P,lb as V,mb as $}from"./chunk-XQKT32VU.js";import{c as w,e as O}from"./chunk-GEE437AJ.js";import"./chunk-5FFKEXUF.js";import{j as B,s as M}from"./chunk-OAPWU2O3.js";import{Ab as b,Ac as c,Cb as S,Db as u,Eb as f,Fb as p,Gb as a,Hb as l,Ib as C,Ic as H,Pb as D,Ub as I,Wa as n,Wb as m,_ as y,da as _,ea as E,ic as r,jc as g,kb as A,kc as o,pa as x,sc as T,uc as N,wc as L,xc as h,zb as v,zc as s}from"./chunk-565OUHKP.js";var K=(t,i)=>({"bg-gray-900 text-white":t,"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50":i}),Q=()=>[1,2,3,4],X=(t,i,e)=>({"bg-green-100 text-green-700":t,"bg-yellow-100 text-yellow-700":i,"bg-gray-100 text-gray-600":e}),Y=(t,i,e)=>({"text-green-600":t,"text-yellow-600":i,"text-red-600":e}),Z=(t,i)=>i.label,ee=(t,i)=>i._id;function te(t,i){if(t&1){let e=D();a(0,"button",7),I("click",function(){let q=_(e).$implicit,J=m();return E(J.setTab(q.value))}),r(1),s(2,"translate"),l()}if(t&2){let e=i.$implicit,d=m();p("ngClass",L(4,K,d.currentTab()===e.value,d.currentTab()!==e.value)),n(),o(" ",c(2,2,e.label)," ")}}function ie(t,i){t&1&&C(0,"div",8)}function ne(t,i){t&1&&(a(0,"div",6),u(1,ie,1,0,"div",8,S),l()),t&2&&(n(),f(N(0,Q)))}function ae(t,i){if(t&1&&(a(0,"div",9),C(1,"lucide-icon",10),a(2,"p",11),r(3),s(4,"translate"),l()()),t&2){let e=m(2);n(),p("img",e.icons.Trophy),n(2),o(" ",c(4,2,"DASHBOARD.ADMIN.CHALLENGES.NO_CHALLENGES")," ")}}function le(t,i){if(t&1&&(a(0,"ui-card")(1,"div",12)(2,"div",13)(3,"h3",14),r(4),l(),a(5,"span",15),r(6),l()(),a(7,"div",16)(8,"span",17),r(9),l(),a(10,"span"),r(11,"\u2022"),l(),a(12,"span",18),r(13),l(),a(14,"span"),r(15,"\u2022"),l(),a(16,"span",19),r(17),l()()(),a(18,"div",20)(19,"div",21)(20,"div",22),r(21),s(22,"translate"),l(),a(23,"div",23),r(24),l()(),a(25,"div",21)(26,"div",22),r(27),s(28,"translate"),l(),a(29,"div",23),r(30),l()()(),a(31,"div",24)(32,"button",25),C(33,"lucide-icon",26),r(34),s(35,"translate"),l()()()),t&2){let e=i.$implicit,d=m(3);n(3),p("title",T(e.title)),n(),o(" ",e.title," "),n(),p("ngClass",h(21,X,e.status==="published",e.status==="draft",e.status==="closed")),n(),o(" ",e.status," "),n(3),g(e.category),n(3),p("ngClass",h(25,Y,e.difficulty==="easy",e.difficulty==="medium",e.difficulty==="hard")),n(),g(e.difficulty),n(4),o("by ",e.creatorId.name||"Unknown"),n(4),o(" ",c(22,15,"DASHBOARD.GENERAL.PARTICIPANTS")," "),n(3),o(" ",e.participantsCount||0," "),n(3),o(" ",c(28,17,"DASHBOARD.ADMIN.CHALLENGES.AVG_SCORE")," "),n(3),g(e.averageAiScore||0),n(3),p("img",d.icons.Eye),n(),o(" ",c(35,19,"DASHBOARD.ADMIN.CHALLENGES.VIEW")," ")}}function re(t,i){if(t&1&&(a(0,"div",6),u(1,le,36,29,"ui-card",null,ee),l()),t&2){let e=m(2);n(),f(e.filteredChallenges())}}function oe(t,i){if(t&1&&v(0,ae,5,4,"div",9)(1,re,3,0,"div",6),t&2){let e=m();b(e.filteredChallenges().length===0?0:1)}}var W=class t{constructor(){this.challengeService=y(z);this.allChallenges=x([]);this.loading=x(!0);this.tabs=[{label:"DASHBOARD.ADMIN.CHALLENGES.ALL",value:"all"},{label:"DASHBOARD.ADMIN.CHALLENGES.ACTIVE",value:"published"},{label:"DASHBOARD.ADMIN.CHALLENGES.PENDING",value:"draft"},{label:"DASHBOARD.ADMIN.CHALLENGES.COMPLETED",value:"closed"}];this.currentTab=x("all");this.filteredChallenges=H(()=>{let i=this.currentTab(),e=this.allChallenges();return i==="all"?e:e.filter(d=>d.status===i)});this.icons={Trophy:k,Users:P,DollarSign:R,Activity:G,Eye:F,Settings:j}}ngOnInit(){this.loadData()}loadData(){this.loading.set(!0),this.challengeService.getAllChallenges().subscribe({next:i=>{this.allChallenges.set(i),this.loading.set(!1)},error:()=>this.loading.set(!1)})}setTab(i){this.currentTab.set(i)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=A({type:t,selectors:[["app-admin-challenges"]],decls:14,vars:7,consts:[[1,"space-y-6","animate-in","fade-in","slide-in-from-bottom-4","duration-500"],[1,"flex","flex-col","md:flex-row","md:items-center","justify-between","gap-4"],[1,"text-2xl","font-bold","mb-2","text-gray-900"],[1,"text-gray-600"],[1,"flex","flex-wrap","gap-2"],[1,"px-4","py-2","rounded-md","transition-all","font-medium","text-sm",3,"ngClass"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"px-4","py-2","rounded-md","transition-all","font-medium","text-sm",3,"click","ngClass"],[1,"h-64","bg-gray-100","rounded-2xl","animate-pulse"],[1,"p-16","text-center","border","border-dashed","border-gray-200","rounded-2xl","bg-white"],[1,"w-12","h-12","text-gray-300","mx-auto","mb-3",3,"img"],[1,"text-gray-500","font-medium"],[1,"mb-4"],[1,"flex","justify-between","items-start","gap-4"],[1,"text-lg","font-semibold","text-gray-900","line-clamp-1","group-hover:text-orange-600","transition-colors",3,"title"],[1,"text-[10px]","uppercase","font-bold","px-2","py-1","rounded",3,"ngClass"],[1,"flex","items-center","gap-2","mt-1","text-sm","text-gray-500"],[1,"capitalize"],[1,"capitalize",3,"ngClass"],[1,"text-gray-400"],[1,"grid","grid-cols-3","gap-4","mb-6","flex-1"],[1,"bg-gray-50","rounded-xl","p-4","border","border-gray-100","flex","flex-col","justify-center","text-center","sm:text-left"],[1,"text-xs","text-gray-500","mb-1","flex","items-center","justify-center","sm:justify-start","gap-1"],[1,"text-xl","font-semibold","text-gray-900"],[1,"flex","gap-3","mt-auto"],[1,"flex-1","px-4","py-2.5","bg-gray-900","text-white","rounded-md","hover:bg-gray-800","transition-all","text-sm","font-medium","flex","items-center","justify-center","gap-2"],[1,"w-4","h-4",3,"img"]],template:function(e,d){e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),r(4),s(5,"translate"),l(),a(6,"p",3),r(7),s(8,"translate"),l()(),a(9,"div",4),u(10,te,3,7,"button",5,Z),l()(),v(12,ne,3,1,"div",6)(13,oe,2,1),l()),e&2&&(n(4),o(" ",c(5,3,"DASHBOARD.ADMIN.CHALLENGES.TITLE")," "),n(3),g(c(8,5,"DASHBOARD.ADMIN.CHALLENGES.SUBTITLE")),n(3),f(d.tabs),n(2),b(d.loading()?12:13))},dependencies:[M,B,$,V,U,O,w],encapsulation:2})}};export{W as Challenges};
