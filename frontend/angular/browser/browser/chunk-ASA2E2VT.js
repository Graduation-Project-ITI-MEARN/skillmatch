import{a as Ue}from"./chunk-DVQSRTEW.js";import"./chunk-JJPBU5Z3.js";import"./chunk-YGBCOKBM.js";import"./chunk-2YIDOPGG.js";import"./chunk-2DHYFB3B.js";import{c as Ee}from"./chunk-OTNEMDPZ.js";import{b as Le,c as Ae,d as h,e as Fe,f as Me,g as Re,i as Oe,j as we,k as Ne,n as ke,p as De,q as Pe,v as Be,w as Ge,x as Ve,y as He}from"./chunk-CYRR275F.js";import{A as ye,B as xe,Ma as be,c as Ce,jb as Se,lb as Te,mb as Ie,v as ve}from"./chunk-XQKT32VU.js";import{b as _e,c as fe,e as he,f as X}from"./chunk-GEE437AJ.js";import{c as ge}from"./chunk-CADW372H.js";import"./chunk-EZWRTDAZ.js";import{b as K}from"./chunk-5FFKEXUF.js";import{k as ce,l as ue,s as me}from"./chunk-OAPWU2O3.js";import{Ac as p,Fb as c,Gb as n,Hb as a,Ib as E,Pb as b,Ub as C,V as ie,Wa as t,Wb as _,_ as I,da as v,ea as y,f as Z,fa as J,ga as ee,gc as f,ic as s,jc as S,kb as le,kc as u,lc as ne,mc as ae,nc as re,pb as g,pc as oe,qc as se,rc as de,s as A,sc as T,uc as pe,zc as d}from"./chunk-565OUHKP.js";var W=class l{constructor(){this.http=I(K);this.apiUrl=X.apiUrl;this.authService=I(Ee)}getCategories(){return this.http.get(`${this.apiUrl}/metadata/categories`)}getSkills(){return this.http.get(`${this.apiUrl}/metadata/skills`)}getAiModels(){return this.http.get(`${this.apiUrl}/ai/models`)}canUseCustomAIModels(){let r=this.authService.subscriptionPlan;return r==="basic"||r==="professional"||r==="enterprise"}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275prov=ie({token:l,factory:l.\u0275fac,providedIn:"root"})}};var $e=()=>({standalone:!0});function ze(l,r){if(l&1&&(n(0,"div",50)(1,"div",51),J(),n(2,"svg",52),E(3,"path",53),a()(),ee(),n(4,"div")(5,"h3",54),s(6),d(7,"translate"),a(),n(8,"p",55),s(9),d(10,"translate"),a()()()),l&2){let i=r.$implicit;t(6),S(p(7,2,i.title)),t(3),S(p(10,4,i.desc))}}function je(l,r){if(l&1&&(n(0,"div",56),E(1,"lucide-icon",57),n(2,"div")(3,"h3",58),s(4),d(5,"translate"),a(),n(6,"p",59),s(7),d(8,"translate"),a()()()),l&2){let i=_();t(),c("img",i.icons.CheckCircle),t(3),u(" ",p(5,3,"CHALLENGE.SUCCESS.TITLE")," "),t(3),S(p(8,5,"CHALLENGE.SUCCESS.MESSAGE"))}}function Qe(l,r){if(l&1&&(n(0,"div",60),E(1,"lucide-icon",61),n(2,"div")(3,"h3",62),s(4),d(5,"translate"),a(),n(6,"p",63),s(7),a()()()),l&2){let i=_();t(),c("img",i.icons.AlertCircle),t(3),S(p(5,3,"CHALLENGE.ERROR.TITLE")),t(3),S(i.submitError)}}function Ke(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.TITLE_ERROR")," "))}function Xe(l,r){if(l&1){let i=b();n(0,"li",67),C("click",function(){let o=v(i).$implicit,m=_(2);return y(m.selectCategory(o))}),s(1),d(2,"translate"),a()}if(l&2){let i=r.$implicit;t(),u(" ",p(2,1,i)," ")}}function We(l,r){if(l&1&&(n(0,"ul",65),g(1,Xe,3,3,"li",66),a()),l&2){let i=_();t(),c("ngForOf",i.categories)}}function Ze(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.CATEGORY_ERROR")," "))}function Je(l,r){if(l&1){let i=b();n(0,"li",67),C("click",function(){let o=v(i).$implicit,m=_(2);return y(m.selectDifficulty(o))}),s(1),d(2,"translate"),a()}if(l&2){let i=r.$implicit;t(),u(" ",p(2,1,"CHALLENGE.DIFFICULTY."+i.toUpperCase())," ")}}function et(l,r){if(l&1&&(n(0,"ul",65),g(1,Je,3,3,"li",66),a()),l&2){let i=_();t(),c("ngForOf",i.difficultyLevels)}}function tt(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.DIFFICULTY_ERROR")," "))}function it(l,r){if(l&1){let i=b();n(0,"li",67),C("click",function(){let o=v(i).$implicit,m=_(2);return y(m.selectSubmissionType(o))}),s(1),d(2,"translate"),a()}if(l&2){let i=r.$implicit;t(),u(" ",p(2,1,"CHALLENGE.SUBMISSION_TYPE."+i.toUpperCase())," ")}}function lt(l,r){if(l&1&&(n(0,"ul",65),g(1,it,3,3,"li",66),a()),l&2){let i=_();t(),c("ngForOf",i.submissionTypes)}}function nt(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.SUBMISSION_TYPE_ERROR")," "))}function at(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.SALARY_ERROR")," "))}function rt(l,r){if(l&1){let i=b();n(0,"span",70),s(1),n(2,"button",71),C("click",function(){let o=v(i).$implicit,m=_(2);return y(m.removeSkill(o))}),E(3,"lucide-icon",72),a()()}if(l&2){let i=r.$implicit,e=_(2);t(),u(" ",i," "),t(2),c("img",e.icons.X)}}function ot(l,r){if(l&1&&(n(0,"div",68),g(1,rt,4,2,"span",69),a()),l&2){let i=_();t(),c("ngForOf",i.selectedTags)}}function st(l,r){if(l&1){let i=b();n(0,"button",81),C("click",function(){v(i);let o=_(2);return y(o.clearSkillSearch())}),E(1,"lucide-icon",82),a()}if(l&2){let i=_(2);t(),c("img",i.icons.X)}}function dt(l,r){l&1&&(n(0,"div",83),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.NO_SKILLS_FOUND")," "))}function pt(l,r){if(l&1){let i=b();n(0,"label",84)(1,"input",85),C("change",function(){let o=v(i).$implicit,m=_(2);return y(m.toggleSkill(o))}),a(),n(2,"span",86),s(3),a()()}if(l&2){let i=r.$implicit,e=_(2);t(),c("checked",e.isSkillSelected(i)),t(2),S(i)}}function ct(l,r){if(l&1){let i=b();n(0,"div",73)(1,"div",74)(2,"div",20),E(3,"lucide-icon",75),n(4,"input",76),d(5,"translate"),de("ngModelChange",function(o){v(i);let m=_();return se(m.skillSearchQuery,o)||(m.skillSearchQuery=o),y(o)}),a(),g(6,st,2,1,"button",77),a()(),n(7,"div",78),g(8,dt,3,3,"div",79)(9,pt,4,2,"label",80),a()()}if(l&2){let i=_();t(3),c("img",i.icons.Search),t(),c("placeholder",T(p(5,8,"CHALLENGE.FORM.SEARCH_SKILLS"))),oe("ngModel",i.skillSearchQuery),c("ngModelOptions",pe(10,$e)),t(2),c("ngIf",i.skillSearchQuery),t(2),c("ngIf",i.filteredSkills.length===0),t(),c("ngForOf",i.filteredSkills)}}function ut(l,r){l&1&&(n(0,"span",87),s(1),d(2,"translate"),a()),l&2&&(t(),u("\u{1F4A1} ",p(2,1,"CHALLENGE.FORM.SELECT_AT_LEAST_ONE_SKILL")))}function mt(l,r){if(l&1&&(n(0,"span"),s(1),d(2,"translate"),a()),l&2){let i=_();t(),ae("",i.selectedTags.length," / ",i.allSkills.length," ",p(2,3,"CHALLENGE.FORM.SKILLS_AVAILABLE"))}}function gt(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.DEADLINE_ERROR")," "))}function _t(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.DESCRIPTION_ERROR")," "))}function ft(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.REQUIREMENTS_ERROR")," "))}function ht(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.EVALUATION_CRITERIA_ERROR")," "))}function Et(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.DELIVERABLES_ERROR")," "))}function Ct(l,r){if(l&1){let i=b();n(0,"li",67),C("click",function(){let o=v(i).$implicit,m=_(2);return y(m.selectIdealSolutionType(o))}),s(1),d(2,"translate"),a()}if(l&2){let i=r.$implicit;t(),u(" ",p(2,1,"CHALLENGE.IDEAL_SOLUTION_TYPE."+i.toUpperCase())," ")}}function vt(l,r){if(l&1&&(n(0,"ul",65),g(1,Ct,3,3,"li",66),a()),l&2){let i=_();t(),c("ngForOf",i.idealSolutionTypes)}}function yt(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.IDEAL_SOLUTION_LINK_ERROR")," "))}function xt(l,r){if(l&1&&(n(0,"div")(1,"label",15),s(2),d(3,"translate"),n(4,"span",16),s(5,"*"),a()(),E(6,"input",88),d(7,"translate"),g(8,yt,3,3,"p",18),a()),l&2){let i,e,o=_();t(2),u(" ",p(3,6,"CHALLENGE.FORM.IDEAL_SOLUTION_LINK")," "),t(4),f("border-red-500",((i=o.challengeForm.get("idealSolution.value"))==null?null:i.invalid)&&((i=o.challengeForm.get("idealSolution.value"))==null?null:i.touched)),c("placeholder",T(p(7,8,"CHALLENGE.FORM.IDEAL_SOLUTION_LINK_PLACEHOLDER"))),t(2),c("ngIf",((e=o.challengeForm.get("idealSolution.value"))==null?null:e.invalid)&&((e=o.challengeForm.get("idealSolution.value"))==null?null:e.touched))}}function bt(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.IDEAL_SOLUTION_TEXT_ERROR")," "))}function St(l,r){if(l&1&&(n(0,"div")(1,"label",15),s(2),d(3,"translate"),n(4,"span",16),s(5,"*"),a()(),E(6,"textarea",89),d(7,"translate"),g(8,bt,3,3,"p",18),a()),l&2){let i,e,o=_();t(2),u(" ",p(3,6,"CHALLENGE.FORM.IDEAL_SOLUTION_TEXT")," "),t(4),f("border-red-500",((i=o.challengeForm.get("idealSolution.value"))==null?null:i.invalid)&&((i=o.challengeForm.get("idealSolution.value"))==null?null:i.touched)),c("placeholder",T(p(7,8,"CHALLENGE.FORM.IDEAL_SOLUTION_TEXT_PLACEHOLDER"))),t(2),c("ngIf",((e=o.challengeForm.get("idealSolution.value"))==null?null:e.invalid)&&((e=o.challengeForm.get("idealSolution.value"))==null?null:e.touched))}}function Tt(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.IDEAL_SOLUTION_FILE_ERROR")," "))}function It(l,r){if(l&1){let i=b();n(0,"div")(1,"label",15),s(2),d(3,"translate"),n(4,"span",16),s(5,"*"),a()(),n(6,"input",90),C("change",function(o){v(i);let m=_();return y(m.handleIdealSolutionFile(o))}),a(),g(7,Tt,3,3,"p",18),a()}if(l&2){let i,e,o=_();t(2),u(" ",p(3,4,"CHALLENGE.FORM.IDEAL_SOLUTION_FILE")," "),t(4),f("border-red-500",((i=o.challengeForm.get("idealSolution.value"))==null?null:i.invalid)&&((i=o.challengeForm.get("idealSolution.value"))==null?null:i.touched)),t(),c("ngIf",((e=o.challengeForm.get("idealSolution.value"))==null?null:e.invalid)&&((e=o.challengeForm.get("idealSolution.value"))==null?null:e.touched))}}function Lt(l,r){if(l&1){let i=b();n(0,"li",92),C("click",function(){let o=v(i).$implicit,m=_(2);return y(m.selectPricingTier(o.tier))}),s(1),d(2,"translate"),a()}if(l&2){let i=r.$implicit;t(),u(" ",p(2,1,i.tier)," ")}}function At(l,r){if(l&1&&(n(0,"ul",65),g(1,Lt,3,3,"li",91),a()),l&2){let i=_();t(),c("ngForOf",i.aiPricingTiers)}}function Ft(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.PRICING_TIER_ERROR")," "))}function Mt(l,r){if(l&1&&(n(0,"p",27),s(1),d(2,"translate"),n(3,"span",93),s(4),a(),n(5,"span",94),s(6),a()()),l&2){let i=_();t(),u(" ",p(2,3,"CHALLENGE.FORM.DEFAULT_AI_MODEL"),": "),t(3),S(i.selectedAiModel.name),t(2),u("(",i.selectedAiModel.description,")")}}function Rt(l,r){if(l&1){let i=b();n(0,"li",67),C("click",function(){let o=v(i).$implicit,m=_(3);return y(m.selectAiModel(o.id))}),s(1),a()}if(l&2){let i=r.$implicit;t(),ne(" ",i.name," (",i.provider,") ")}}function Ot(l,r){if(l&1&&(n(0,"ul",65),g(1,Rt,2,2,"li",66),a()),l&2){let i=_(2);t(),c("ngForOf",i.aiModels)}}function wt(l,r){l&1&&(n(0,"p",64),s(1),d(2,"translate"),a()),l&2&&(t(),u(" ",p(2,1,"CHALLENGE.FORM.SELECTED_MODEL_ERROR")," "))}function Nt(l,r){l&1&&(n(0,"span"),s(1),d(2,"translate"),a()),l&2&&(t(),u("(",p(2,1,"CHALLENGE.FORM.AI_MODEL_FREE"),")"))}function kt(l,r){if(l&1&&(n(0,"p",27),s(1),d(2,"translate"),n(3,"span",93),s(4),a(),s(5),d(6,"translate"),d(7,"translate"),g(8,Nt,3,3,"span",29),a()),l&2){let i=_(2);t(),u(" ",p(2,7,"CHALLENGE.FORM.AI_MODEL_DETAILS"),": "),t(3),S(i.selectedAiModel.name),t(),re(" - ",p(6,9,"CHALLENGE.FORM.AI_MODEL_ACCURACY"),": ",i.selectedAiModel.accuracyRating,"/10, ",p(7,11,"CHALLENGE.FORM.AI_MODEL_SPEED"),": ",i.selectedAiModel.speed," "),t(3),c("ngIf",i.selectedAiModel.isFree)}}function Dt(l,r){if(l&1){let i=b();n(0,"div")(1,"label",15),s(2),d(3,"translate"),n(4,"span",16),s(5,"*"),a()(),n(6,"div",20)(7,"button",21),C("click",function(){v(i);let o=_();return y(o.openAiModel=!o.openAiModel)}),n(8,"span"),s(9),d(10,"translate"),a(),E(11,"lucide-icon",22),a(),g(12,Ot,2,1,"ul",23),a(),g(13,wt,3,3,"p",18)(14,kt,9,13,"p",40),a()}if(l&2){let i,e,o=_();t(2),u(" ",p(3,12,"CHALLENGE.FORM.SELECTED_MODEL")," "),t(5),f("border-red-500",((i=o.challengeForm.get("aiConfig.selectedModel"))==null?null:i.invalid)&&((i=o.challengeForm.get("aiConfig.selectedModel"))==null?null:i.touched)),t(),f("text-gray-400",!o.selectedAiModelId),t(),u(" ",o.selectedAiModel?o.selectedAiModel.name+" ("+o.selectedAiModel.provider+")":p(10,14,"CHALLENGE.FORM.SELECT_AI_MODEL")," "),t(2),f("rotate-180",o.openAiModel),c("img",o.icons.ChevronDown),t(),c("ngIf",o.openAiModel),t(),c("ngIf",((e=o.challengeForm.get("aiConfig.selectedModel"))==null?null:e.invalid)&&((e=o.challengeForm.get("aiConfig.selectedModel"))==null?null:e.touched)),t(),c("ngIf",o.selectedAiModel&&o.selectedPricingTier==="custom")}}function Pt(l,r){l&1&&(n(0,"span"),s(1),d(2,"translate"),a()),l&2&&(t(),S(p(2,1,"CHALLENGE.FORM.SAVE_DRAFT")))}function Bt(l,r){l&1&&(n(0,"span"),s(1),d(2,"translate"),a()),l&2&&(t(),S(p(2,1,"CHALLENGE.FORM.SAVING_DRAFT")))}function Gt(l,r){l&1&&(n(0,"span"),s(1),d(2,"translate"),a()),l&2&&(t(),S(p(2,1,"CHALLENGE.FORM.PUBLISH")))}function Vt(l,r){l&1&&(n(0,"span"),s(1),d(2,"translate"),a()),l&2&&(t(),S(p(2,1,"CHALLENGE.FORM.PUBLISHING")))}function Ht(l,r){if(l&1){let i=b();n(0,"div",95),C("click",function(){v(i);let o=_();return y(o.closeUpgradeModal())}),n(1,"div",96),C("click",function(o){return v(i),y(o.stopPropagation())}),n(2,"div",97)(3,"div",98),J(),n(4,"svg",99),E(5,"path",100),a()(),ee(),n(6,"h3",101),s(7,"Upgrade Required"),a(),n(8,"p",102),s(9),a(),n(10,"div",103)(11,"button",104),C("click",function(){v(i);let o=_();return y(o.closeUpgradeModal())}),s(12," Cancel "),a(),n(13,"button",105),C("click",function(){v(i);let o=_();return y(o.navigateToUpgrade())}),s(14," Upgrade Now "),a()()()()()}if(l&2){let i=_();t(9),u(" ",i.upgradeMessage," ")}}var qe=class l{constructor(){this.fb=I(Ge);this.http=I(K);this.router=I(ge);this.challengeService=I(W);this.translate=I(_e);this.icons={ArrowLeft:Ce,CheckCircle:xe,AlertCircle:ye,ChevronDown:ve,Search:be,X:Se};this.isSubmitting=!1;this.submitError="";this.submitSuccess=!1;this.categories=[];this.allSkills=[];this.aiModels=[];this.aiPricingTiers=[];this.difficultyLevels=["easy","medium","hard"];this.submissionTypes=["link","file","text"];this.idealSolutionTypes=["link","file","text"];this.selectedTags=[];this.skillSearchQuery="";this.openCategory=!1;this.openDifficulty=!1;this.openSubmissionType=!1;this.openIdealSolutionType=!1;this.openSkillsDropdown=!1;this.openPricingTier=!1;this.openAiModel=!1;this.benefits=[{title:"CHALLENGE.CREATE.BENEFIT_1_TITLE",desc:"CHALLENGE.CREATE.BENEFIT_1_DESC"},{title:"CHALLENGE.CREATE.BENEFIT_2_TITLE",desc:"CHALLENGE.CREATE.BENEFIT_2_DESC"},{title:"CHALLENGE.CREATE.BENEFIT_3_TITLE",desc:"CHALLENGE.CREATE.BENEFIT_3_DESC"}];this.selectedCategory="";this.selectedDifficulty="";this.selectedSubmissionType="link";this.selectedIdealSolutionType="link";this.selectedPricingTier="free";this.selectedAiModel=null;this.selectedAiModelId="";this.showUpgradeModal=!1;this.upgradeMessage="";this.requiredPlan="professional"}ngOnInit(){this.fetchMetadata();let r=new Date;r.setDate(r.getDate()+1),this.minDate=r,this.challengeForm=this.fb.group({title:["",[h.required,h.minLength(5)]],description:["",[h.required,h.minLength(1)]],category:[this.selectedCategory,h.required],difficulty:[this.selectedDifficulty,h.required],type:["job"],submissionType:[this.selectedSubmissionType,h.required],deadline:[null,[h.required,this.dateMinValidator(this.minDate)]],salary:[null,[h.required,h.min(1e3)]],additionalInfo:[""],tags:[[],h.required],requirements:["",[h.required,h.minLength(10)]],evaluationCriteria:["",[h.required,h.minLength(10)]],deliverables:["",[h.required,h.minLength(10)]],idealSolution:this.fb.group({type:[this.selectedIdealSolutionType,h.required],value:["",h.required]}),aiConfig:this.fb.group({pricingTier:[this.selectedPricingTier,h.required],selectedModel:[this.selectedAiModelId,h.required],autoEvaluate:[!0],requireVideoTranscript:[!1]})}),this.selectedCategory=this.challengeForm.get("category")?.value,this.selectedDifficulty=this.challengeForm.get("difficulty")?.value,this.selectedSubmissionType=this.challengeForm.get("submissionType")?.value,this.selectedIdealSolutionType=this.challengeForm.get("idealSolution.type")?.value,this.selectedPricingTier=this.challengeForm.get("aiConfig.pricingTier")?.value,this.selectedAiModelId=this.challengeForm.get("aiConfig.selectedModel")?.value,this.challengeForm.get("idealSolution.type")?.valueChanges.subscribe(i=>{this.selectedIdealSolutionType=i;let e=this.challengeForm.get("idealSolution.value");e?.setValue(""),i==="link"?e?.setValidators([h.required,h.pattern("https?://.+")]):i==="text"?e?.setValidators([h.required,h.minLength(10)]):i==="file"?e?.setValidators(h.required):e?.clearValidators(),e?.updateValueAndValidity(),e?.markAsTouched()}),this.challengeForm.get("aiConfig.pricingTier")?.valueChanges.subscribe(i=>{this.selectedPricingTier=i;let e=this.challengeForm.get("aiConfig.selectedModel");if(i==="custom")e?.setValidators(h.required),this.selectedAiModel=null,this.selectedAiModelId="",e?.setValue("");else{let o=this.aiPricingTiers.find(m=>m.tier===i);if(o){let m=this.aiModels.find(x=>x.id===o.defaultModel);this.selectedAiModel=m||null,this.selectedAiModelId=m?.id||"",e?.setValue(m?.id||""),e?.clearValidators()}else this.selectedAiModel=null,this.selectedAiModelId="",e?.setValue(""),e?.clearValidators()}e?.updateValueAndValidity(),e?.markAsTouched()}),this.challengeForm.get("aiConfig.selectedModel")?.valueChanges.subscribe(i=>{this.selectedAiModelId=i,this.selectedAiModel=this.aiModels.find(e=>e.id===i)||null}),this.challengeForm.get("idealSolution.type")?.updateValueAndValidity(),this.challengeForm.get("aiConfig.pricingTier")?.updateValueAndValidity()}fetchMetadata(){return Z(this,null,function*(){try{let[r,i,e]=yield Promise.all([A(this.challengeService.getCategories()),A(this.challengeService.getSkills()),A(this.challengeService.getAiModels())]);if(r.success&&(this.categories=r.data,!this.selectedCategory&&this.categories.length>0&&this.selectCategory(this.categories[0])),i.success&&(this.allSkills=i.data),e.success){this.aiModels=e.data.models,this.aiPricingTiers=e.data.pricingTiers;let o=this.aiPricingTiers.find(m=>m.tier==="free");if(o){let m=this.aiModels.find(x=>x.id===o.defaultModel);this.selectedAiModel=m||null,this.selectedAiModelId=m?.id||"",this.challengeForm.get("aiConfig.selectedModel")?.setValue(m?.id||"")}}}catch(r){console.error("Error fetching metadata:",r),this.submitError="Failed to load challenge metadata. Please try again."}})}get filteredSkills(){let r=this.skillSearchQuery.toLowerCase().trim();return r?this.allSkills.filter(i=>i.toLowerCase().includes(r)):this.allSkills}selectCategory(r){this.selectedCategory=r,this.challengeForm.get("category")?.setValue(r),this.challengeForm.get("category")?.markAsTouched(),this.openCategory=!1}selectDifficulty(r){this.selectedDifficulty=r,this.challengeForm.get("difficulty")?.setValue(r),this.challengeForm.get("difficulty")?.markAsTouched(),this.openDifficulty=!1}selectSubmissionType(r){this.selectedSubmissionType=r,this.challengeForm.get("submissionType")?.setValue(r),this.challengeForm.get("submissionType")?.markAsTouched(),this.openSubmissionType=!1}selectIdealSolutionType(r){this.selectedIdealSolutionType=r,this.challengeForm.get("idealSolution.type")?.setValue(r),this.challengeForm.get("idealSolution.type")?.markAsTouched(),this.openIdealSolutionType=!1}selectPricingTier(r){this.selectedPricingTier=r,this.challengeForm.get("aiConfig.pricingTier")?.setValue(r),this.challengeForm.get("aiConfig.pricingTier")?.markAsTouched(),this.openPricingTier=!1,r==="custom"&&(this.canUseCustomAIModels()||(this.showUpgradeModal=!0,this.upgradeMessage="Premium AI models require a Professional or Enterprise subscription. Upgrade now to unlock advanced AI capabilities including GPT-4, Claude Sonnet, and custom model selection.",this.requiredPlan="professional",setTimeout(()=>{this.showUpgradeModal&&this.selectPricingTier("free")},100)))}canUseCustomAIModels(){return this.challengeService.canUseCustomAIModels()}navigateToUpgrade(){this.showUpgradeModal=!1,this.router.navigate(["/dashboard/company/subscription"],{queryParams:{upgrade:this.requiredPlan}})}closeUpgradeModal(){this.showUpgradeModal=!1,this.selectPricingTier("free")}selectAiModel(r){this.selectedAiModel=this.aiModels.find(i=>i.id===r)||null,this.selectedAiModelId=r,this.challengeForm.get("aiConfig.selectedModel")?.setValue(r),this.challengeForm.get("aiConfig.selectedModel")?.markAsTouched(),this.openAiModel=!1}toggleSkill(r){let i=this.selectedTags.indexOf(r);i>-1?this.selectedTags.splice(i,1):this.selectedTags.push(r),this.challengeForm.get("tags")?.setValue(this.selectedTags),this.challengeForm.get("tags")?.markAsTouched()}removeSkill(r){let i=this.selectedTags.indexOf(r);i>-1&&this.selectedTags.splice(i,1),this.challengeForm.get("tags")?.setValue(this.selectedTags),this.challengeForm.get("tags")?.markAsTouched()}isSkillSelected(r){return this.selectedTags.includes(r)}clearSkillSearch(){this.skillSearchQuery=""}dateMinValidator(r){return i=>{if(!i.value)return null;let e=new Date(i.value),o=new Date(r);return o.setHours(0,0,0,0),e>=o?null:{minDate:{valid:!1,requiredMinDate:r,actualDate:i.value}}}}handleIdealSolutionFile(r){let i=r.target.files?.[0];i?this.challengeForm.get("idealSolution.value")?.setValue(i.name):this.challengeForm.get("idealSolution.value")?.setValue(""),this.challengeForm.get("idealSolution.value")?.markAsTouched()}onSubmit(r){return Z(this,null,function*(){if(this.challengeForm.markAllAsTouched(),this.selectedTags.length===0?(this.challengeForm.get("tags")?.setErrors({required:!0}),this.challengeForm.get("tags")?.markAsTouched()):this.challengeForm.get("tags")?.setErrors(null),!this.challengeForm.valid){this.submitError=this.translate.instant("CHALLENGE.FORM.GENERIC_ERROR_MESSAGE"),console.error("Form is invalid. Details:",this.challengeForm.errors),Object.keys(this.challengeForm.controls).forEach(o=>{let m=this.challengeForm.get(o);m instanceof Re?Object.keys(m.controls).forEach(x=>{let L=m.get(x);L?.invalid&&console.log(`Nested Control: ${o}.${x}, Errors:`,L.errors)}):m?.invalid&&console.log(`Control: ${o}, Errors:`,m.errors)});return}console.log("Frontend validation passed. Constructing payload...");let i=this.challengeForm.getRawValue(),e={title:i.title,description:i.description,category:i.category,difficulty:i.difficulty,type:"job",submissionType:i.submissionType,deadline:i.deadline,salary:i.salary,additionalInfo:i.additionalInfo,tags:i.tags,requirements:i.requirements,evaluationCriteria:i.evaluationCriteria,deliverables:i.deliverables,idealSolution:{type:i.idealSolution.type,value:i.idealSolution.value},aiConfig:{pricingTier:i.aiConfig.pricingTier,autoEvaluate:i.aiConfig.autoEvaluate,requireVideoTranscript:i.aiConfig.requireVideoTranscript},status:r};i.aiConfig.pricingTier==="custom"?e.aiConfig.selectedModel=i.aiConfig.selectedModel:this.selectedAiModel?e.aiConfig.selectedModel=this.selectedAiModel.id:console.warn("No AI model selected for non-custom pricing tier or default not found."),console.log("Final payload being sent to backend:",e);try{this.isSubmitting=!0,this.submitError="",yield A(this.http.post(`${X.apiUrl}/challenges`,e)),this.submitSuccess=!0,setTimeout(()=>this.router.navigate(["/dashboard/company/overview"]),4e3)}catch(o){console.error("Error creating challenge:",o),o?.error?.code==="SUBSCRIPTION_REQUIRED"?(this.submitError="Active subscription required. Redirecting to subscription page...",setTimeout(()=>{this.router.navigate(["/dashboard/company/subscription"])},2e3)):o?.error?.code==="SUBSCRIPTION_EXPIRED"?(this.submitError="Your subscription has expired. Redirecting to renewal...",setTimeout(()=>{this.router.navigate(["/dashboard/company/subscription"],{queryParams:{renew:"true"}})},2e3)):o?.error?.code==="PREMIUM_AI_REQUIRES_SUBSCRIPTION"?(this.submitError="Premium AI models require subscription upgrade.",this.showUpgradeModal=!0):this.submitError=o?.error?.message||"Failed to create challenge"}finally{this.isSubmitting=!1}})}goBack(){this.router.navigate(["/dashboard/company/overview"])}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=le({type:l,selectors:[["app-create-challenge"]],decls:211,vars:212,consts:[[1,"min-h-screen","bg-linear-to-br","from-gray-50","to-blue-50","py-12","px-4"],[1,"max-w-5xl","mx-auto"],[1,"flex","items-center","gap-2","text-gray-600","hover:text-gray-900","mb-8","transition-colors",3,"click"],[1,"w-5","h-5",3,"img"],[1,"font-medium"],[1,"grid","grid-cols-1","lg:grid-cols-5","gap-8"],[1,"lg:col-span-2"],[1,"text-4xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","text-lg","mb-8"],[1,"space-y-4"],["class","flex items-start gap-3",4,"ngFor","ngForOf"],[1,"lg:col-span-3"],["class","mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3",4,"ngIf"],["class","mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",4,"ngIf"],[1,"bg-white","rounded-2xl","shadow-xl","p-8","space-y-6",3,"formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["type","text","formControlName","title",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors",3,"placeholder"],["class","mt-1 text-red-600 text-sm",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"relative"],["type","button",1,"flex","items-center","justify-between","w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","cursor-pointer","bg-white","text-gray-900","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors",3,"click"],[1,"w-5","h-5","text-gray-500","transition-transform",3,"img"],["class","absolute z-20 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-xl py-1 max-h-60 overflow-y-auto",4,"ngIf"],["type","number","formControlName","salary","min","1000",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors",3,"placeholder"],["class","flex flex-wrap gap-2 mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200",4,"ngIf"],["class","absolute z-20 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-xl",4,"ngIf"],[1,"mt-2","text-sm","text-gray-500"],["class","text-red-600",4,"ngIf"],[4,"ngIf"],[3,"dateChange","minDate","value"],["formControlName","description","rows","5",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors","resize-y",3,"placeholder"],["formControlName","requirements","rows","5",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors","resize-y",3,"placeholder"],["formControlName","evaluationCriteria","rows","5",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors","resize-y",3,"placeholder"],["formControlName","deliverables","rows","5",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors","resize-y",3,"placeholder"],["formGroupName","idealSolution",1,"border","border-gray-200","p-6","rounded-xl","space-y-4"],[1,"text-lg","font-semibold","text-gray-900","mb-4","px-2"],["formControlName","additionalInfo","rows","3",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors","resize-y",3,"placeholder"],["formGroupName","aiConfig",1,"border","border-gray-200","p-6","rounded-xl","space-y-4"],["type","button",1,"flex","items-center","justify-between","w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","cursor-pointer","bg-white","text-gray-900","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors","capitalize",3,"click"],["class","mt-2 text-sm text-gray-500",4,"ngIf"],[1,"flex","items-center","gap-3"],["type","checkbox","formControlName","autoEvaluate","id","autoEvaluate",1,"w-4","h-4","text-gray-900","border-gray-300","rounded","focus:ring-black","focus:ring-offset-0"],["for","autoEvaluate",1,"text-sm","font-medium","text-gray-700"],["type","checkbox","formControlName","requireVideoTranscript","id","requireVideoTranscript",1,"w-4","h-4","text-gray-900","border-gray-300","rounded","focus:ring-black","focus:ring-offset-0"],["for","requireVideoTranscript",1,"text-sm","font-medium","text-gray-700"],[1,"flex","gap-4","pt-4"],["type","button",1,"flex-1","px-6","py-3","bg-gray-100","text-gray-900","rounded-xl","font-semibold","hover:bg-gray-200","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","shadow-sm","text-lg",3,"click","disabled"],["type","button",1,"flex-1","px-6","py-3","bg-gray-900","text-white","rounded-xl","font-semibold","hover:bg-gray-800","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","shadow-lg","text-lg",3,"click","disabled"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",3,"click",4,"ngIf"],[1,"flex","items-start","gap-3"],[1,"w-6","h-6","rounded-full","bg-blue-100","flex","items-center","justify-center","shrink-0","mt-1"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","text-blue-600"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"font-semibold","text-gray-900"],[1,"text-gray-600","text-sm"],[1,"mb-6","p-4","bg-green-50","border","border-green-200","rounded-xl","flex","items-start","gap-3"],[1,"w-5","h-5","text-green-600","shrink-0","mt-0.5",3,"img"],[1,"font-semibold","text-green-900"],[1,"text-sm","text-green-700"],[1,"mb-6","p-4","bg-red-50","border","border-red-200","rounded-xl","flex","items-start","gap-3"],[1,"w-5","h-5","text-red-600","shrink-0","mt-0.5",3,"img"],[1,"font-semibold","text-red-900"],[1,"text-sm","text-red-700"],[1,"mt-1","text-red-600","text-sm"],[1,"absolute","z-20","mt-1","w-full","bg-white","border","border-gray-200","rounded-lg","shadow-xl","py-1","max-h-60","overflow-y-auto"],["class","px-4 py-2 hover:bg-gray-50 cursor-pointer text-sm text-gray-900",3,"click",4,"ngFor","ngForOf"],[1,"px-4","py-2","hover:bg-gray-50","cursor-pointer","text-sm","text-gray-900",3,"click"],[1,"flex","flex-wrap","gap-2","mb-3","p-3","bg-gray-50","rounded-lg","border","border-gray-200"],["class","inline-flex items-center gap-1.5 px-3 py-1.5 bg-gray-900 text-white rounded-lg text-sm font-medium",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1.5","bg-gray-900","text-white","rounded-lg","text-sm","font-medium"],["type","button",1,"hover:bg-gray-700","rounded-full","p-0.5","transition-colors",3,"click"],[1,"w-3.5","h-3.5",3,"img"],[1,"absolute","z-20","mt-1","w-full","bg-white","border","border-gray-200","rounded-lg","shadow-xl"],[1,"p-3","border-b","border-gray-200"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text",1,"w-full","pl-10","pr-10","py-2","text-sm","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["type","button","class","absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",3,"click",4,"ngIf"],[1,"max-h-64","overflow-y-auto"],["class","px-4 py-8 text-center text-gray-500 text-sm",4,"ngIf"],["class","flex items-center gap-3 px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors",4,"ngFor","ngForOf"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-gray-400","hover:text-gray-600",3,"click"],[1,"w-4","h-4",3,"img"],[1,"px-4","py-8","text-center","text-gray-500","text-sm"],[1,"flex","items-center","gap-3","px-4","py-3","hover:bg-gray-50","cursor-pointer","transition-colors"],["type","checkbox",1,"w-4","h-4","text-gray-900","border-gray-300","rounded","focus:ring-black","focus:ring-offset-0",3,"change","checked"],[1,"text-sm","text-gray-900"],[1,"text-red-600"],["type","url","formControlName","value",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors",3,"placeholder"],["formControlName","value","rows","5",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","focus:ring-2","focus:ring-gray-900/10","transition-colors","resize-y",3,"placeholder"],["type","file",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","outline-none","focus:border-gray-900","transition-all",3,"change"],["class","px-4 py-2 hover:bg-gray-50 cursor-pointer text-sm text-gray-900 capitalize",3,"click",4,"ngFor","ngForOf"],[1,"px-4","py-2","hover:bg-gray-50","cursor-pointer","text-sm","text-gray-900","capitalize",3,"click"],[1,"font-medium","text-gray-700"],[1,"text-xs","text-gray-600"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/50","backdrop-blur-sm",3,"click"],[1,"bg-white","rounded-2xl","shadow-2xl","max-w-md","w-full","mx-4","p-8",3,"click"],[1,"text-center"],[1,"w-16","h-16","bg-primary-gradient","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-2xl","font-bold","text-gray-900","mb-3"],[1,"text-gray-600","mb-6"],[1,"flex","gap-3"],["type","button",1,"flex-1","px-6","py-3","border","border-gray-300","rounded-xl","font-semibold","text-gray-700","hover:bg-gray-50","transition-colors",3,"click"],["type","button",1,"flex-1","px-6","py-3","bg-primary-gradient","text-white","rounded-xl","font-semibold","hover:bg-primary","transition-all","shadow-lg",3,"click"]],template:function(i,e){if(i&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),C("click",function(){return e.goBack()}),E(3,"lucide-icon",3),n(4,"span",4),s(5),d(6,"translate"),a()(),n(7,"div",5)(8,"div",6)(9,"h1",7),s(10),d(11,"translate"),a(),n(12,"p",8),s(13),d(14,"translate"),a(),n(15,"div",9),g(16,ze,11,6,"div",10),a()(),n(17,"div",11),g(18,je,9,7,"div",12)(19,Qe,8,5,"div",13),n(20,"form",14)(21,"div")(22,"label",15),s(23),d(24,"translate"),n(25,"span",16),s(26,"*"),a()(),E(27,"input",17),d(28,"translate"),g(29,Ke,3,3,"p",18),a(),n(30,"div",19)(31,"div")(32,"label",15),s(33),d(34,"translate"),n(35,"span",16),s(36,"*"),a()(),n(37,"div",20)(38,"button",21),C("click",function(){return e.openCategory=!e.openCategory}),n(39,"span"),s(40),d(41,"translate"),d(42,"translate"),a(),E(43,"lucide-icon",22),a(),g(44,We,2,1,"ul",23),a(),g(45,Ze,3,3,"p",18),a(),n(46,"div")(47,"label",15),s(48),d(49,"translate"),n(50,"span",16),s(51,"*"),a()(),n(52,"div",20)(53,"button",21),C("click",function(){return e.openDifficulty=!e.openDifficulty}),n(54,"span"),s(55),d(56,"translate"),d(57,"translate"),a(),E(58,"lucide-icon",22),a(),g(59,et,2,1,"ul",23),a(),g(60,tt,3,3,"p",18),a()(),n(61,"div")(62,"label",15),s(63),d(64,"translate"),n(65,"span",16),s(66,"*"),a()(),n(67,"div",20)(68,"button",21),C("click",function(){return e.openSubmissionType=!e.openSubmissionType}),n(69,"span"),s(70),d(71,"translate"),d(72,"translate"),a(),E(73,"lucide-icon",22),a(),g(74,lt,2,1,"ul",23),a(),g(75,nt,3,3,"p",18),a(),n(76,"div")(77,"label",15),s(78),d(79,"translate"),n(80,"span",16),s(81,"*"),a()(),E(82,"input",24),d(83,"translate"),g(84,at,3,3,"p",18),a(),n(85,"div")(86,"label",15),s(87),d(88,"translate"),n(89,"span",16),s(90,"*"),a()(),g(91,ot,2,1,"div",25),n(92,"div",20)(93,"button",21),C("click",function(){return e.openSkillsDropdown=!e.openSkillsDropdown}),n(94,"span"),s(95),d(96,"translate"),d(97,"translate"),a(),E(98,"lucide-icon",22),a(),g(99,ct,10,11,"div",26),a(),n(100,"p",27),g(101,ut,3,3,"span",28)(102,mt,3,5,"span",29),a()(),n(103,"div")(104,"label",15),s(105),d(106,"translate"),n(107,"span",16),s(108,"*"),a()(),n(109,"z-calendar",30),C("dateChange",function(m){let x;return(x=e.challengeForm.get("deadline"))==null?null:x.setValue(m)}),a(),g(110,gt,3,3,"p",18),a(),n(111,"div")(112,"label",15),s(113),d(114,"translate"),n(115,"span",16),s(116,"*"),a()(),E(117,"textarea",31),d(118,"translate"),g(119,_t,3,3,"p",18),a(),n(120,"div")(121,"label",15),s(122),d(123,"translate"),n(124,"span",16),s(125,"*"),a()(),E(126,"textarea",32),d(127,"translate"),g(128,ft,3,3,"p",18),a(),n(129,"div")(130,"label",15),s(131),d(132,"translate"),n(133,"span",16),s(134,"*"),a()(),E(135,"textarea",33),d(136,"translate"),g(137,ht,3,3,"p",18),a(),n(138,"div")(139,"label",15),s(140),d(141,"translate"),n(142,"span",16),s(143,"*"),a()(),E(144,"textarea",34),d(145,"translate"),g(146,Et,3,3,"p",18),a(),n(147,"fieldset",35)(148,"legend",36),s(149),d(150,"translate"),a(),n(151,"div")(152,"label",15),s(153),d(154,"translate"),a(),n(155,"div",20)(156,"button",21),C("click",function(){return e.openIdealSolutionType=!e.openIdealSolutionType}),n(157,"span"),s(158),d(159,"translate"),d(160,"translate"),a(),E(161,"lucide-icon",22),a(),g(162,vt,2,1,"ul",23),a()(),g(163,xt,9,10,"div",29)(164,St,9,10,"div",29)(165,It,8,6,"div",29),a(),n(166,"div")(167,"label",15),s(168),d(169,"translate"),a(),E(170,"textarea",37),d(171,"translate"),a(),n(172,"fieldset",38)(173,"legend",36),s(174),d(175,"translate"),a(),n(176,"div")(177,"label",15),s(178),d(179,"translate"),n(180,"span",16),s(181,"*"),a()(),n(182,"div",20)(183,"button",39),C("click",function(){return e.openPricingTier=!e.openPricingTier}),n(184,"span"),s(185),d(186,"translate"),d(187,"translate"),a(),E(188,"lucide-icon",22),a(),g(189,At,2,1,"ul",23),a(),g(190,Ft,3,3,"p",18)(191,Mt,7,5,"p",40),a(),g(192,Dt,15,16,"div",29),n(193,"div",41),E(194,"input",42),n(195,"label",43),s(196),d(197,"translate"),a()(),n(198,"div",41),E(199,"input",44),n(200,"label",45),s(201),d(202,"translate"),a()()(),n(203,"div",46)(204,"button",47),C("click",function(){return e.onSubmit("draft")}),g(205,Pt,3,3,"span",29)(206,Bt,3,3,"span",29),a(),n(207,"button",48),C("click",function(){return e.onSubmit("published")}),g(208,Gt,3,3,"span",29)(209,Vt,3,3,"span",29),a()()()()()(),g(210,Ht,15,1,"div",49),a()),i&2){let o,m,x,L,F,M,R,O,w,N,k,D,P,te,B,G,V,H,U,q,Y,$,z,j,Q;t(3),c("img",e.icons.ArrowLeft),t(2),S(p(6,132,"CHALLENGE.BACK")),t(5),u(" ",p(11,134,"CHALLENGE.CREATE.TITLE")," "),t(3),u(" ",p(14,136,"CHALLENGE.CREATE.DESCRIPTION")," "),t(3),c("ngForOf",e.benefits),t(2),c("ngIf",e.submitSuccess),t(),c("ngIf",e.submitError),t(),c("formGroup",e.challengeForm),t(3),u(" ",p(24,138,"CHALLENGE.FORM.TITLE")," "),t(4),f("border-red-500",((o=e.challengeForm.get("title"))==null?null:o.invalid)&&((o=e.challengeForm.get("title"))==null?null:o.touched)),c("placeholder",T(p(28,140,"CHALLENGE.FORM.TITLE_PLACEHOLDER"))),t(2),c("ngIf",((m=e.challengeForm.get("title"))==null?null:m.invalid)&&((m=e.challengeForm.get("title"))==null?null:m.touched)),t(4),u(" ",p(34,142,"CHALLENGE.FORM.CATEGORY")," "),t(5),f("border-red-500",((x=e.challengeForm.get("category"))==null?null:x.invalid)&&((x=e.challengeForm.get("category"))==null?null:x.touched)),t(),f("text-gray-400",!e.selectedCategory),t(),u(" ",e.selectedCategory?p(41,144,e.selectedCategory):p(42,146,"CHALLENGE.FORM.SELECT_CATEGORY")," "),t(3),f("rotate-180",e.openCategory),c("img",e.icons.ChevronDown),t(),c("ngIf",e.openCategory),t(),c("ngIf",((L=e.challengeForm.get("category"))==null?null:L.invalid)&&((L=e.challengeForm.get("category"))==null?null:L.touched)),t(3),u(" ",p(49,148,"CHALLENGE.FORM.DIFFICULTY")," "),t(5),f("border-red-500",((F=e.challengeForm.get("difficulty"))==null?null:F.invalid)&&((F=e.challengeForm.get("difficulty"))==null?null:F.touched)),t(),f("text-gray-400",!e.selectedDifficulty),t(),u(" ",e.selectedDifficulty?p(56,150,"CHALLENGE.DIFFICULTY."+e.selectedDifficulty.toUpperCase()):p(57,152,"CHALLENGE.FORM.SELECT_DIFFICULTY")," "),t(3),f("rotate-180",e.openDifficulty),c("img",e.icons.ChevronDown),t(),c("ngIf",e.openDifficulty),t(),c("ngIf",((M=e.challengeForm.get("difficulty"))==null?null:M.invalid)&&((M=e.challengeForm.get("difficulty"))==null?null:M.touched)),t(3),u(" ",p(64,154,"CHALLENGE.FORM.SUBMISSION_TYPE")," "),t(5),f("border-red-500",((R=e.challengeForm.get("submissionType"))==null?null:R.invalid)&&((R=e.challengeForm.get("submissionType"))==null?null:R.touched)),t(),f("text-gray-400",!e.selectedSubmissionType),t(),u(" ",e.selectedSubmissionType?p(71,156,"CHALLENGE.SUBMISSION_TYPE."+e.selectedSubmissionType.toUpperCase()):p(72,158,"CHALLENGE.FORM.SELECT_SUBMISSION_TYPE")," "),t(3),f("rotate-180",e.openSubmissionType),c("img",e.icons.ChevronDown),t(),c("ngIf",e.openSubmissionType),t(),c("ngIf",((O=e.challengeForm.get("submissionType"))==null?null:O.invalid)&&((O=e.challengeForm.get("submissionType"))==null?null:O.touched)),t(3),u(" ",p(79,160,"CHALLENGE.FORM.SALARY")," "),t(4),f("border-red-500",((w=e.challengeForm.get("salary"))==null?null:w.invalid)&&((w=e.challengeForm.get("salary"))==null?null:w.touched)),c("placeholder",T(p(83,162,"CHALLENGE.FORM.SALARY_PLACEHOLDER"))),t(2),c("ngIf",((N=e.challengeForm.get("salary"))==null?null:N.invalid)&&((N=e.challengeForm.get("salary"))==null?null:N.touched)),t(3),u(" ",p(88,164,"CHALLENGE.FORM.SKILLS")," "),t(4),c("ngIf",e.selectedTags.length>0),t(2),f("border-red-500",((k=e.challengeForm.get("tags"))==null?null:k.invalid)&&((k=e.challengeForm.get("tags"))==null?null:k.touched)),t(),f("text-gray-400",e.selectedTags.length===0),t(),u(" ",e.selectedTags.length>0?e.selectedTags.length+" "+p(96,166,"CHALLENGE.FORM.SKILLS_SELECTED"):p(97,168,"CHALLENGE.FORM.SELECT_SKILLS")," "),t(3),f("rotate-180",e.openSkillsDropdown),c("img",e.icons.ChevronDown),t(),c("ngIf",e.openSkillsDropdown),t(2),c("ngIf",((D=e.challengeForm.get("tags"))==null?null:D.invalid)&&((D=e.challengeForm.get("tags"))==null?null:D.touched)),t(),c("ngIf",!((P=e.challengeForm.get("tags"))!=null&&P.invalid&&((P=e.challengeForm.get("tags"))!=null&&P.touched))),t(3),u(" ",p(106,170,"CHALLENGE.FORM.DEADLINE")," "),t(4),c("minDate",e.minDate)("value",(te=e.challengeForm.get("deadline"))==null?null:te.value),t(),c("ngIf",((B=e.challengeForm.get("deadline"))==null?null:B.hasError("required"))&&((B=e.challengeForm.get("deadline"))==null?null:B.touched)),t(3),u(" ",p(114,172,"CHALLENGE.FORM.DESCRIPTION")," "),t(4),f("border-red-500",((G=e.challengeForm.get("description"))==null?null:G.invalid)&&((G=e.challengeForm.get("description"))==null?null:G.touched)),c("placeholder",T(p(118,174,"CHALLENGE.FORM.DESCRIPTION_PLACEHOLDER"))),t(2),c("ngIf",((V=e.challengeForm.get("description"))==null?null:V.invalid)&&((V=e.challengeForm.get("description"))==null?null:V.touched)),t(3),u(" ",p(123,176,"CHALLENGE.FORM.REQUIREMENTS")," "),t(4),f("border-red-500",((H=e.challengeForm.get("requirements"))==null?null:H.invalid)&&((H=e.challengeForm.get("requirements"))==null?null:H.touched)),c("placeholder",T(p(127,178,"CHALLENGE.FORM.REQUIREMENTS_PLACEHOLDER"))),t(2),c("ngIf",((U=e.challengeForm.get("requirements"))==null?null:U.invalid)&&((U=e.challengeForm.get("requirements"))==null?null:U.touched)),t(3),u(" ",p(132,180,"CHALLENGE.FORM.EVALUATION_CRITERIA")," "),t(4),f("border-red-500",((q=e.challengeForm.get("evaluationCriteria"))==null?null:q.invalid)&&((q=e.challengeForm.get("evaluationCriteria"))==null?null:q.touched)),c("placeholder",T(p(136,182,"CHALLENGE.FORM.EVALUATION_CRITERIA_PLACEHOLDER"))),t(2),c("ngIf",((Y=e.challengeForm.get("evaluationCriteria"))==null?null:Y.invalid)&&((Y=e.challengeForm.get("evaluationCriteria"))==null?null:Y.touched)),t(3),u(" ",p(141,184,"CHALLENGE.FORM.DELIVERABLES")," "),t(4),f("border-red-500",(($=e.challengeForm.get("deliverables"))==null?null:$.invalid)&&(($=e.challengeForm.get("deliverables"))==null?null:$.touched)),c("placeholder",T(p(145,186,"CHALLENGE.FORM.DELIVERABLES_PLACEHOLDER"))),t(2),c("ngIf",((z=e.challengeForm.get("deliverables"))==null?null:z.invalid)&&((z=e.challengeForm.get("deliverables"))==null?null:z.touched)),t(3),u(" ",p(150,188,"CHALLENGE.FORM.IDEAL_SOLUTION_TITLE")," "),t(4),u(" ",p(154,190,"CHALLENGE.FORM.IDEAL_SOLUTION_TYPE")," "),t(4),f("text-gray-400",!e.selectedIdealSolutionType),t(),u(" ",e.selectedIdealSolutionType?p(159,192,"CHALLENGE.IDEAL_SOLUTION_TYPE."+e.selectedIdealSolutionType.toUpperCase()):p(160,194,"CHALLENGE.FORM.SELECT_IDEAL_SOLUTION_TYPE")," "),t(3),f("rotate-180",e.openIdealSolutionType),c("img",e.icons.ChevronDown),t(),c("ngIf",e.openIdealSolutionType),t(),c("ngIf",e.selectedIdealSolutionType==="link"),t(),c("ngIf",e.selectedIdealSolutionType==="text"),t(),c("ngIf",e.selectedIdealSolutionType==="file"),t(3),u(" ",p(169,196,"CHALLENGE.FORM.ADDITIONAL_INFO")," "),t(2),c("placeholder",T(p(171,198,"CHALLENGE.FORM.ADDITIONAL_INFO_PLACEHOLDER"))),t(4),u(" ",p(175,200,"CHALLENGE.FORM.AI_CONFIG_TITLE")," "),t(4),u(" ",p(179,202,"CHALLENGE.FORM.PRICING_TIER")," "),t(5),f("border-red-500",((j=e.challengeForm.get("aiConfig.pricingTier"))==null?null:j.invalid)&&((j=e.challengeForm.get("aiConfig.pricingTier"))==null?null:j.touched)),t(),f("text-gray-400",!e.selectedPricingTier),t(),u(" ",e.selectedPricingTier?p(186,204,e.selectedPricingTier):p(187,206,"CHALLENGE.FORM.SELECT_PRICING_TIER")," "),t(3),f("rotate-180",e.openPricingTier),c("img",e.icons.ChevronDown),t(),c("ngIf",e.openPricingTier),t(),c("ngIf",((Q=e.challengeForm.get("aiConfig.pricingTier"))==null?null:Q.invalid)&&((Q=e.challengeForm.get("aiConfig.pricingTier"))==null?null:Q.touched)),t(),c("ngIf",e.selectedAiModel&&e.selectedPricingTier!=="custom"),t(),c("ngIf",e.selectedPricingTier==="custom"),t(4),u(" ",p(197,208,"CHALLENGE.FORM.AUTO_EVALUATE")," "),t(5),u(" ",p(202,210,"CHALLENGE.FORM.REQUIRE_VIDEO_TRANSCRIPT")," "),t(3),c("disabled",e.isSubmitting||e.submitSuccess),t(),c("ngIf",!e.isSubmitting),t(),c("ngIf",e.isSubmitting),t(),c("disabled",e.isSubmitting||e.submitSuccess),t(),c("ngIf",!e.isSubmitting),t(),c("ngIf",e.isSubmitting),t(),c("ngIf",e.showUpgradeModal)}},dependencies:[me,ce,ue,Ve,we,Ae,Ne,Le,Fe,Me,Be,Oe,He,Pe,De,ke,he,Ie,Te,Ue,fe],styles:[".custom-dropdown[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #d1d5db;border-radius:.5rem;text-align:left;background-color:#fff;display:flex;align-items:center;justify-content:space-between;outline:none;transition:all}.custom-dropdown[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.custom-dropdown[_ngcontent-%COMP%]:focus{border-color:#000}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;z-index:10;margin-top:.25rem;width:100%;background-color:#fff;border:1px solid #e5e7eb;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;max-height:15rem;overflow:auto}.dropdown-item[_ngcontent-%COMP%]{padding:.75rem 1rem;color:#111827;cursor:pointer;transition:color}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#000;outline:none;box-shadow:none!important}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer}"]})}};export{qe as CreateChallenge};
