import{a as U}from"./chunk-U7IRUZXJ.js";import{c as A,e as T}from"./chunk-GEE437AJ.js";import{a as _,d as O,g as R}from"./chunk-CADW372H.js";import{d as C}from"./chunk-EZWRTDAZ.js";import"./chunk-5FFKEXUF.js";import{l as S,r as L,s as y}from"./chunk-OAPWU2O3.js";import{Ac as r,Bc as w,Fb as u,Gb as e,Hb as t,Ib as c,Ta as b,Wa as i,Wb as N,_ as E,fa as g,ga as I,ic as n,jc as s,kb as h,kc as d,pb as v,zc as a}from"./chunk-565OUHKP.js";function G(o,p){o&1&&(e(0,"div",6),c(1,"div",7),e(2,"p",8),n(3),a(4,"translate"),t()()),o&2&&(i(3),s(r(4,1,"CHALLENGER.WINNER_SOLUTION.LOADING")))}function H(o,p){if(o&1&&c(0,"iframe",48),o&2){let l=N(2);u("src",l.safeVideoUrl,b)}}function V(o,p){o&1&&(e(0,"div",49)(1,"p"),n(2),a(3,"translate"),t()()),o&2&&(i(2),s(r(3,1,"CHALLENGER.WINNER_SOLUTION.VIDEO_INVALID")))}function D(o,p){if(o&1&&(e(0,"div",9)(1,"div",10),c(2,"div",11),e(3,"div",12)(4,"div",13),n(5),t(),e(6,"div",14)(7,"div",15),g(),e(8,"svg",16),c(9,"path",17),t(),n(10),a(11,"translate"),t(),I(),e(12,"h1",18),n(13),t(),e(14,"p",19),n(15),a(16,"translate"),e(17,"span",20),n(18),t()()(),e(19,"div",21)(20,"p",22),n(21),a(22,"translate"),t(),e(23,"p",23),n(24),a(25,"currency"),t()()()(),e(26,"div",24)(27,"div",25)(28,"h2",26),g(),e(29,"svg",27),c(30,"polygon",28)(31,"rect",29),t(),n(32),a(33,"translate"),t(),I(),e(34,"div",30),v(35,H,1,1,"iframe",31)(36,V,4,3,"div",32),t(),e(37,"div",33)(38,"h3",34),n(39),a(40,"translate"),t(),e(41,"p",35),n(42),a(43,"translate"),t()()(),e(44,"div",36)(45,"h2",26),g(),e(46,"svg",27),c(47,"path",37),t(),n(48),a(49,"translate"),t(),I(),e(50,"div",38),c(51,"div",39),e(52,"div",40)(53,"div")(54,"p",41),n(55),a(56,"translate"),t(),e(57,"p",42),n(58),a(59,"translate"),t()(),e(60,"div")(61,"p",41),n(62),a(63,"translate"),t(),e(64,"p",42),n(65),a(66,"translate"),t()(),e(67,"div",43)(68,"div",44)(69,"div",45),n(70," AI "),t(),e(71,"div")(72,"p",46),n(73),a(74,"translate"),t(),e(75,"p",47),n(76),a(77,"translate"),t()()()()()()()()()),o&2){let l=N();i(5),d(" ",l.winner.initials," "),i(5),d(" ",r(11,19,"CHALLENGER.WINNER_SOLUTION.CHALLENGE_WINNER")," "),i(3),s(l.winner.name),i(2),d(" ",r(16,21,"CHALLENGER.WINNER_SOLUTION.PERFECT_SCORE")," "),i(3),d("",l.winner.score,"%"),i(3),s(r(22,23,"CHALLENGER.WINNER_SOLUTION.PRIZE_EARNED")),i(3),d(" ",w(25,25,l.prizeAmount,"EGP ")," "),i(8),d(" ",r(33,28,"CHALLENGER.WINNER_SOLUTION.VIDEO_SUBMISSION")," "),i(3),u("ngIf",l.safeVideoUrl),i(),u("ngIf",!l.safeVideoUrl),i(3),s(r(40,30,"CHALLENGER.WINNER_SOLUTION.ABOUT_SOLUTION")),i(3),d(" ",l.winner.description||r(43,32,"CHALLENGER.WINNER_SOLUTION.NO_DESCRIPTION")," "),i(6),d(" ",r(49,34,"CHALLENGER.WINNER_SOLUTION.AI_FEEDBACK")," "),i(7),s(r(56,36,"CHALLENGER.WINNER_SOLUTION.TECHNICAL_EXECUTION")),i(3),d(' "',r(59,38,"CHALLENGER.WINNER_SOLUTION.TECHNICAL_FEEDBACK"),'" '),i(4),s(r(63,40,"CHALLENGER.WINNER_SOLUTION.CREATIVITY")),i(3),d(' "',r(66,42,"CHALLENGER.WINNER_SOLUTION.CREATIVITY_FEEDBACK"),'" '),i(8),s(r(74,44,"CHALLENGER.WINNER_SOLUTION.AI_EVALUATOR")),i(3),s(r(77,46,"CHALLENGER.WINNER_SOLUTION.AUTOMATED_EVALUATION"))}}var B=class o{constructor(){this.route=E(_);this.challengerService=E(U);this.sanitizer=E(C);this.isLoading=!0;this.winner=null;this.prizeAmount=0;this.safeVideoUrl=null}ngOnInit(){let p=this.route.snapshot.paramMap.get("id");p&&this.loadData(p)}loadData(p){this.challengerService.getChallengeById(p).subscribe(l=>{let m=l.data;if(!m||!m.winner){this.isLoading=!1;return}this.prizeAmount=m.prizeAmount||0,this.challengerService.getSubmissionsByChallenge(p).subscribe(W=>{let x=(W.data||[]).find(f=>(f.candidateId?._id||f.candidateId)===(m.winner._id||m.winner));if(x&&(this.winner={name:x.candidateId?.name||"Winner",initials:(x.candidateId?.name||"W").substring(0,2).toUpperCase(),score:x.aiScore||0,description:x.textContent},x.videoExplanationUrl)){let f=x.videoExplanationUrl;f.includes("youtube.com/watch?v=")&&(f=f.replace("watch?v=","embed/")),this.safeVideoUrl=this.sanitizer.bypassSecurityTrustResourceUrl(f)}this.isLoading=!1})})}static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275cmp=h({type:o,selectors:[["app-winner-solution"]],decls:8,vars:5,consts:[[1,"min-h-screen","bg-gray-50","p-6","lg:p-12"],["routerLink","/dashboard/challenger",1,"inline-flex","items-center","gap-2","text-gray-500","hover:text-gray-900","mb-8","font-medium","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","m15 18-6-6 6-6"],["class","text-center py-20",4,"ngIf"],["class","max-w-5xl mx-auto animate-fade-in",4,"ngIf"],[1,"text-center","py-20"],[1,"animate-spin","w-10","h-10","border-4","border-blue-600","border-t-transparent","rounded-full","mx-auto","mb-4"],[1,"text-gray-500"],[1,"max-w-5xl","mx-auto","animate-fade-in"],[1,"bg-gradient-to-br","from-gray-900","to-gray-800","rounded-3xl","p-8","md:p-12","text-white","shadow-2xl","overflow-hidden","relative","mb-10"],[1,"absolute","top-0","right-0","w-64","h-64","bg-yellow-500/20","rounded-full","blur-3xl","-mr-16","-mt-16"],[1,"relative","z-10","flex","flex-col","md:flex-row","items-center","gap-8"],[1,"w-32","h-32","rounded-full","border-4","border-white/20","bg-gradient-to-br","from-yellow-400","to-orange-500","flex","items-center","justify-center","text-4xl","font-bold","shadow-xl"],[1,"text-center","md:text-left","flex-1"],[1,"inline-flex","items-center","gap-2","px-3","py-1","bg-yellow-500/20","text-yellow-300","rounded-full","text-xs","font-bold","uppercase","tracking-wider","mb-4","border","border-yellow-500/30"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","viewBox","0 0 24 24","fill","currentColor"],["d","M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"],[1,"text-4xl","md:text-5xl","font-black","mb-2"],[1,"text-gray-300","text-lg"],[1,"text-white","font-bold"],[1,"bg-white/10","backdrop-blur-md","rounded-2xl","p-6","border","border-white/10","min-w-[200px]","text-center"],[1,"text-gray-400","text-sm","font-medium","uppercase","mb-1"],[1,"text-3xl","font-black","text-green-400"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2"],[1,"text-xl","font-bold","text-gray-900","mb-4","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","23 7 16 12 23 17 23 7"],["x","1","y","5","width","15","height","14","rx","2","ry","2"],[1,"bg-black","rounded-2xl","overflow-hidden","shadow-lg","aspect-video","relative","group"],["class","w-full h-full","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src",4,"ngIf"],["class","absolute inset-0 flex items-center justify-center text-gray-500",4,"ngIf"],[1,"mt-6","bg-white","rounded-2xl","p-6","border","border-gray-200"],[1,"font-bold","text-gray-900","mb-2"],[1,"text-gray-600","leading-relaxed"],[1,"lg:col-span-1"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],[1,"bg-white","rounded-2xl","p-6","border","border-gray-200","shadow-sm","relative","overflow-hidden"],[1,"absolute","top-0","right-0","w-20","h-20","bg-blue-50","rounded-bl-full","-mr-10","-mt-10"],[1,"space-y-6","relative","z-10"],[1,"text-xs","font-bold","text-gray-400","uppercase","mb-1"],[1,"text-gray-700","italic"],[1,"pt-4","border-t","border-gray-100"],[1,"flex","items-center","gap-3"],[1,"w-8","h-8","rounded-full","bg-blue-600","flex","items-center","justify-center","text-white","text-xs","font-bold"],[1,"text-sm","font-bold","text-gray-900"],[1,"text-xs","text-gray-500"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"w-full","h-full",3,"src"],[1,"absolute","inset-0","flex","items-center","justify-center","text-gray-500"]],template:function(l,m){l&1&&(e(0,"div",0)(1,"a",1),g(),e(2,"svg",2),c(3,"path",3),t(),n(4),a(5,"translate"),t(),v(6,G,5,3,"div",4)(7,D,78,48,"div",5),t()),l&2&&(i(4),d(" ",r(5,3,"CHALLENGER.WINNER_SOLUTION.BACK")," "),i(2),u("ngIf",m.isLoading),i(),u("ngIf",!m.isLoading&&m.winner))},dependencies:[y,S,R,O,T,L,A],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};export{B as WinnerSolutionComponent};
