import{h as A}from"./chunk-LDRJV2AZ.js";import{a as k}from"./chunk-U7IRUZXJ.js";import{c as T,e as U}from"./chunk-GEE437AJ.js";import{a as B,d as M,g as O}from"./chunk-CADW372H.js";import"./chunk-EZWRTDAZ.js";import"./chunk-5FFKEXUF.js";import{j as w,k as L,l as _,s as N}from"./chunk-OAPWU2O3.js";import{Ac as d,Fb as g,Gb as t,Hb as n,Ib as m,Pb as E,Ub as y,Wa as i,Wb as h,_ as x,da as b,ea as I,fa as S,fc as f,ga as v,ic as a,jc as o,kb as C,kc as c,pb as u,zc as s}from"./chunk-565OUHKP.js";function D(l,r){l&1&&(t(0,"div",10),m(1,"div",11),t(2,"p",12),a(3),s(4,"translate"),n()()),l&2&&(i(3),o(d(4,1,"CHALLENGER.SUBMISSIONS.LOADING")))}function V(l,r){l&1&&(t(0,"div",13)(1,"div",14),S(),t(2,"svg",15),m(3,"path",16)(4,"polyline",17),n()(),v(),t(5,"h3",18),a(6),s(7,"translate"),n(),t(8,"p",6),a(9),s(10,"translate"),n()()),l&2&&(i(6),o(d(7,2,"CHALLENGER.SUBMISSIONS.NO_SUBMISSIONS")),i(3),o(d(10,4,"CHALLENGER.SUBMISSIONS.NO_SUBMISSIONS_DESC")))}function j(l,r){if(l&1){let e=E();t(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24),a(4),n(),t(5,"div")(6,"h3",25),a(7),n(),t(8,"p",26),a(9),n()()(),t(10,"div",27)(11,"span",28),a(12),s(13,"translate"),n(),t(14,"div",29)(15,"div",30),a(16),n(),t(17,"div",31),a(18),s(19,"translate"),n()()()(),t(20,"div",32)(21,"div")(22,"div",33)(23,"span"),a(24),s(25,"translate"),n(),t(26,"span"),a(27),n()(),t(28,"div",34),m(29,"div",35),n()(),t(30,"div")(31,"div",33)(32,"span"),a(33),s(34,"translate"),n(),t(35,"span"),a(36),n()(),t(37,"div",34),m(38,"div",36),n()()(),t(39,"div",37)(40,"button",38),y("click",function(){let H=b(e).$implicit,G=h(2);return I(G.watchVideo(H.videoUrl))}),S(),t(41,"svg",39),m(42,"polygon",40),n(),a(43),s(44,"translate"),n()()()}if(l&2){let e=r.$implicit,p=h(2);i(4),c(" ",e.initials," "),i(3),o(e.name),i(2),o(e.role),i(2),g("ngClass",p.getStatusClass(e.status)),i(),c(" ",d(13,16,"CHALLENGER.SUBMISSIONS.STATUS."+e.status.toUpperCase())," "),i(4),o(e.score),i(2),o(d(19,18,"CHALLENGER.SUBMISSIONS.AI_SCORE")),i(6),o(d(25,20,"CHALLENGER.SUBMISSIONS.TECHNICAL_QUALITY")),i(3),c("",e.techScore,"%"),i(2),f("width",e.techScore,"%"),i(4),o(d(34,22,"CHALLENGER.SUBMISSIONS.COMMUNICATION")),i(3),c("",e.commScore,"%"),i(2),f("width",e.commScore,"%"),i(5),c(" ",d(44,24,"CHALLENGER.SUBMISSIONS.WATCH_VIDEO")," ")}}function F(l,r){if(l&1&&(t(0,"div",19),u(1,j,45,26,"div",20),n()),l&2){let e=h();i(),g("ngForOf",e.submissions)}}var R=class l{constructor(){this.route=x(B);this.challengerService=x(k);this.toastr=x(A);this.challengeId="";this.challengeTitle="Loading...";this.submissions=[];this.isLoading=!1}ngOnInit(){this.challengeId=this.route.snapshot.paramMap.get("id")||"",this.challengeId&&this.loadData()}loadData(){this.isLoading=!0,this.challengerService.getChallengeById(this.challengeId).subscribe(r=>{r.data&&(this.challengeTitle=r.data.title)}),this.challengerService.getSubmissionsByChallenge(this.challengeId).subscribe({next:r=>{this.submissions=(r.data||[]).map(e=>({id:e._id,name:e.candidateId?.name||"Unknown Candidate",initials:(e.candidateId?.name||"U").substring(0,2).toUpperCase(),role:e.candidateId?.email||"Candidate",score:e.aiScore||0,status:e.status||"NEW",videoUrl:e.videoExplanationUrl,techScore:Math.round((e.aiScore||0)*.9),commScore:Math.round((e.aiScore||0)*1.1>100?100:(e.aiScore||0)*1.1)})),this.isLoading=!1},error:()=>{this.toastr.error("Failed to load submissions"),this.isLoading=!1}})}getStatusClass(r){switch(r.toUpperCase()){case"ACCEPTED":return"bg-green-100 text-green-700";case"REJECTED":return"bg-red-100 text-red-700";default:return"bg-blue-100 text-blue-700"}}watchVideo(r){r?window.open(r,"_blank"):this.toastr.warning("No video URL provided")}static{this.\u0275fac=function(e){return new(e||l)}}static{this.\u0275cmp=C({type:l,selectors:[["app-challenge-submissions"]],decls:16,vars:10,consts:[[1,"min-h-screen","bg-gray-50","p-6","lg:p-8"],["routerLink","/dashboard/challenger",1,"inline-flex","items-center","gap-2","text-gray-500","hover:text-gray-900","mb-8","font-medium","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","m15 18-6-6 6-6"],[1,"flex","items-center","gap-4","mb-8"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-500"],["class","text-center py-12",4,"ngIf"],["class","text-center py-16 bg-white rounded-2xl border border-dashed border-gray-300",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"text-center","py-12"],[1,"animate-spin","w-8","h-8","border-4","border-black-600","border-t-transparent","rounded-full","mx-auto"],[1,"mt-4","text-gray-500"],[1,"text-center","py-16","bg-white","rounded-2xl","border","border-dashed","border-gray-300"],[1,"w-16","h-16","bg-gray-50","rounded-full","flex","items-center","justify-center","mx-auto","mb-4","text-gray-400"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],[1,"text-lg","font-bold","text-gray-900"],[1,"space-y-4"],["class","bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-all",4,"ngFor","ngForOf"],[1,"bg-white","rounded-xl","border","border-gray-200","p-6","hover:shadow-md","transition-all"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","gap-4","mb-4"],[1,"flex","gap-4","items-center"],[1,"w-12","h-12","rounded-full","bg-primary-gradient","text-white","flex","items-center","justify-center","font-bold","text-lg","shadow-sm"],[1,"font-bold","text-lg","text-gray-900"],[1,"text-gray-500","text-sm"],[1,"flex","items-center","gap-3"],[1,"px-3","py-1","rounded-full","text-xs","font-bold","uppercase","tracking-wide",3,"ngClass"],[1,"text-right"],[1,"text-2xl","font-black","text-gray-900"],[1,"text-xs","text-gray-500","font-bold","uppercase"],[1,"grid","grid-cols-2","gap-4","mb-6","bg-gray-50","p-4","rounded-lg"],[1,"flex","justify-between","text-xs","font-semibold","text-gray-600","mb-1"],[1,"h-2","bg-gray-200","rounded-full","overflow-hidden"],[1,"h-full","bg-blue-500"],[1,"h-full","bg-purple-500"],[1,"flex","gap-3"],[1,"flex","items-center","gap-2","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","text-sm","font-bold",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","5 3 19 12 5 21 5 3"]],template:function(e,p){e&1&&(t(0,"div",0)(1,"a",1),S(),t(2,"svg",2),m(3,"path",3),n(),a(4),s(5,"translate"),n(),v(),t(6,"div",4)(7,"div")(8,"h1",5),a(9),s(10,"translate"),n(),t(11,"p",6),a(12),n()()(),u(13,D,5,3,"div",7)(14,V,11,6,"div",8)(15,F,2,1,"div",9),n()),e&2&&(i(4),c(" ",d(5,6,"CHALLENGER.SUBMISSIONS.BACK")," "),i(5),o(d(10,8,"CHALLENGER.SUBMISSIONS.TITLE")),i(3),o(p.challengeTitle),i(),g("ngIf",p.isLoading),i(),g("ngIf",!p.isLoading&&p.submissions.length===0),i(),g("ngIf",!p.isLoading&&p.submissions.length>0))},dependencies:[N,w,L,_,O,M,U,T],encapsulation:2})}};export{R as ChallengeSubmissionsComponent};
