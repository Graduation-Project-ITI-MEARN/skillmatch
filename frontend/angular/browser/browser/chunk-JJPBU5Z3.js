import{Hc as p,Q as b,S as v,_ as s,ha as f,i as c,ja as i,l,ra as g,sa as a}from"./chunk-565OUHKP.js";function y(t){t||(t=s(i));let n=new c(e=>{if(t.destroyed){e.next();return}return t.onDestroy(e.next.bind(e))});return e=>e.pipe(b(n))}var d=class{source;destroyed=!1;destroyRef=s(i);constructor(n){this.source=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}subscribe(n){if(this.destroyed)throw new v(953,!1);let e=this.source.pipe(y(this.destroyRef)).subscribe({next:r=>n(r)});return{unsubscribe:()=>e.unsubscribe()}}};function N(t,n){return new d(t)}function E(t){let n=p(t);return new c(e=>{let r=n?.onDestroy(()=>e.complete()),u=t.subscribe(o=>e.next(o));return()=>{u.unsubscribe(),r?.()}})}function U(t,n){let e=n?.injector??s(f),r=new l(1),u=g(()=>{let o;try{o=t()}catch(m){a(()=>r.error(m));return}a(()=>r.next(o))},{injector:e,manualCleanup:!0});return e.get(i).onDestroy(()=>{u.destroy(),r.complete()}),r.asObservable()}export{y as a,N as b,E as c,U as d};
