import{a as Z}from"./chunk-BBY7TWSM.js";import{d as X}from"./chunk-BTBIWTRM.js";import"./chunk-YGBCOKBM.js";import"./chunk-2YIDOPGG.js";import"./chunk-2DHYFB3B.js";import"./chunk-M4ZVHGDV.js";import{c as F}from"./chunk-OTNEMDPZ.js";import"./chunk-CYRR275F.js";import{h as V}from"./chunk-LDRJV2AZ.js";import{a as J}from"./chunk-MMO3LV47.js";import{Ea as K,L as z,T as P,h as M,lb as q,mb as Q,oa as W,t as j,x as $}from"./chunk-XQKT32VU.js";import{c as G,e as U}from"./chunk-GEE437AJ.js";import{a as N,c as O,g as k}from"./chunk-CADW372H.js";import"./chunk-EZWRTDAZ.js";import"./chunk-5FFKEXUF.js";import{j as B,l as R,s as H}from"./chunk-OAPWU2O3.js";import{Ac as s,Bb as C,Cb as D,Db as _,Dc as w,Eb as b,Fb as o,Gb as i,Hb as n,Ib as p,Pb as S,Sa as I,Ub as A,Wa as t,Wb as m,_ as g,da as v,ea as E,ec as L,ic as a,jc as h,kb as y,kc as d,lc as T,pb as f,zc as c}from"./chunk-565OUHKP.js";function te(l,r){if(l&1&&p(0,"lucide-icon",33),l&2){let e=m(2);o("img",e.icons.Award)}}function ie(l,r){if(l&1){let e=S();i(0,"button",34),A("click",function(){let x=v(e).$implicit,ee=m(2);return E(ee.downloadFile(x))}),i(1,"span",35),a(2),c(3,"translate"),n(),p(4,"lucide-icon",36),n()}if(l&2){let e=r.$index,u=m(2);t(2),T(" ",s(3,3,"DASHBOARD.CHALLENGE_DETAILS.DOWNLOAD_ATTACHMENT")," ",e+1," "),t(2),o("img",u.icons.FileDown)}}function ne(l,r){if(l&1&&(i(0,"a",37)(1,"span"),a(2),c(3,"translate"),n(),p(4,"lucide-icon",12),n()),l&2){let e=m(2);o("href",e.challenge.linkUrl,I),t(2),h(s(3,3,"DASHBOARD.CHALLENGE_DETAILS.EXTERNAL_LINK")),t(2),o("img",e.icons.Link)}}function le(l,r){l&1&&(i(0,"p",38),a(1),c(2,"translate"),n()),l&2&&(t(),d(" ",s(2,1,"DASHBOARD.CHALLENGE_DETAILS.NO_RESOURCES")," "))}function ae(l,r){if(l&1&&(i(0,"span",32),a(1),n()),l&2){let e=r.$implicit;t(),d(" ",e," ")}}function re(l,r){if(l&1){let e=S();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1",6),a(5),n(),i(6,"div",7)(7,"div",8),p(8,"lucide-icon",9),i(9,"span",10),a(10),c(11,"translate"),n()(),i(12,"div",11),p(13,"lucide-icon",12),i(14,"span",13),a(15),n()(),i(16,"div",14),a(17),c(18,"translate"),n()()(),i(19,"button",15),A("click",function(){v(e);let x=m();return E(x.handleAction())}),f(20,te,1,1,"lucide-icon",16),a(21),c(22,"translate"),n()()(),i(23,"div",17)(24,"div",18)(25,"section",19)(26,"h3",20),p(27,"lucide-icon",21),a(28),c(29,"translate"),n(),i(30,"p",22),a(31),n()(),i(32,"section",19)(33,"h3",20),p(34,"lucide-icon",21),a(35),c(36,"translate"),n(),i(37,"div",22),a(38),n()(),i(39,"section",19)(40,"h3",20),p(41,"lucide-icon",21),a(42),c(43,"translate"),n(),i(44,"div",22),a(45),n()(),i(46,"section",19)(47,"h3",20),p(48,"lucide-icon",21),a(49),c(50,"translate"),n(),i(51,"div",22),a(52),n()()(),i(53,"div",23)(54,"div",24)(55,"h3",25),a(56),c(57,"translate"),n(),i(58,"div",26),_(59,ie,5,5,"button",27,C),f(61,ne,5,5,"a",28)(62,le,3,3,"p",29),n()(),i(63,"div",24)(64,"h3",30),a(65),c(66,"translate"),n(),i(67,"div",31),_(68,ae,2,1,"span",32,D),n()()()()()}if(l&2){let e=m();t(5),h(e.challenge==null?null:e.challenge.title),t(3),o("img",e.icons.BarChart),t(2),h((e.challenge==null?null:e.challenge.difficulty)||s(11,25,"DASHBOARD.CHALLENGE_DETAILS.INTERMEDIATE")),t(3),o("img",e.icons.Award),t(2),d("$",((e.challenge==null?null:e.challenge.salary)??(e.challenge==null?null:e.challenge.prizeAmount))||"0"),t(2),d(" ",(e.challenge==null?null:e.challenge.category)||s(18,27,"DASHBOARD.CHALLENGE_DETAILS.GENERAL")," "),t(2),o("ngClass",e.isSubmitted?"bg-emerald-50 text-emerald-600 border border-emerald-200 hover:bg-emerald-100":"bg-gray-900 text-white hover:bg-black shadow-lg shadow-gray-200"),t(),o("ngIf",e.isSubmitted),t(),d(" ",s(22,29,e.isSubmitted?"DASHBOARD.CHALLENGE_DETAILS.VIEW_SUBMISSION":"DASHBOARD.CHALLENGE_DETAILS.START_CHALLENGE")," "),t(6),o("img",e.icons.Layout),t(),d(" ",s(29,31,"DASHBOARD.CHALLENGE_DETAILS.OVERVIEW_TITLE")," "),t(3),d(" ",e.challenge==null?null:e.challenge.description," "),t(3),o("img",e.icons.Code),t(),d(" ",s(36,33,"DASHBOARD.CHALLENGE_DETAILS.REQUIREMENTS_TITLE")," "),t(3),d(" ",e.challenge==null?null:e.challenge.requirements," "),t(3),o("img",e.icons.FileDown),t(),d(" ",s(43,35,"DASHBOARD.CHALLENGE_DETAILS.DELIVERABLES_TITLE")," "),t(3),d(" ",e.challenge==null?null:e.challenge.deliverables," "),t(3),o("img",e.icons.Award),t(),d(" ",s(50,37,"DASHBOARD.CHALLENGE_DETAILS.EVALUATION_CRITERIA_TITLE")," "),t(3),d(" ",e.challenge==null?null:e.challenge.evaluationCriteria," "),t(4),d(" ",s(57,39,"DASHBOARD.CHALLENGE_DETAILS.RESOURCES_TITLE")," "),t(3),b(e.challenge==null?null:e.challenge.fileUrls),t(2),o("ngIf",e.challenge==null?null:e.challenge.linkUrl),t(),o("ngIf",!(e.challenge!=null&&e.challenge.linkUrl)&&(!(e.challenge!=null&&e.challenge.fileUrls)||(e.challenge==null?null:e.challenge.fileUrls.length)===0)),t(3),d(" ",s(66,41,"DASHBOARD.CHALLENGE_DETAILS.TECH_STACK_TITLE")," "),t(3),b((e.challenge==null?null:e.challenge.techStack)||(e.challenge==null?null:e.challenge.tags))}}function oe(l,r){l&1&&(i(0,"div",39),p(1,"div",40),i(2,"p",41),a(3),c(4,"translate"),n()()),l&2&&(t(3),h(s(4,1,"DASHBOARD.CHALLENGE_DETAILS.LOADING")))}var Y=class l{constructor(){this.route=g(N);this.router=g(O);this.candidateservice=g(J);this.toast=g(V);this.authService=g(F);this.dialog=g(X);this.challengeId="";this.challenge=null;this.loading=!0;this.isSubmitted=!1;this.icons={BarChart:j,Award:M,Layout:K,Code:z,FileDown:P,Link:W,ChevronRight:$}}ngOnInit(){this.challengeId=this.route.snapshot.paramMap.get("id")||"",this.challengeId&&this.loadChallenge()}loadChallenge(){this.loading=!0,this.candidateservice.getChallengeById(this.challengeId).subscribe({next:r=>{this.challenge=r.data,this.loading=!1},error:r=>{console.error("Error loading challenge details:",r),this.toast.error(r.error?.message||"Failed to load challenge details."),this.loading=!1,this.router.navigate(["/dashboard/candidate/challenges"])}})}handleAction(){this.isSubmitted?this.router.navigate(["/dashboard/candidate/mysubmissions"]):this.onStartChallenge()}onStartChallenge(){let r=this.authService.currentUser();if(!Z(r,this.dialog)){console.log("Candidate not verified. Preventing challenge start.");return}this.candidateservice.startChallenge(this.challengeId).subscribe({next:()=>{this.toast.success("Challenge Started! Good luck."),this.isSubmitted=!0,this.router.navigate(["/dashboard/candidate/mysubmissions"])},error:e=>{this.toast.error(e.error?.message||"Failed to start challenge")}})}downloadFile(r){r&&window.open(r,"_blank")}static{this.\u0275fac=function(e){return new(e||l)}}static{this.\u0275cmp=y({type:l,selectors:[["app-challenge-details"]],decls:3,vars:2,consts:[["loadingState",""],["class","p-6 max-w-7-xl mx-auto space-y-8",4,"ngIf","ngIfElse"],[1,"p-6","max-w-7-xl","mx-auto","space-y-8"],[1,"bg-white","rounded-2xl","p-8","border","border-gray-100","shadow-sm","relative","overflow-hidden"],[1,"flex","flex-col","md:flex-row","md:items-center","justify-between","gap-6"],[1,"space-y-4"],[1,"text-3xl","font-extrabold","text-gray-900"],[1,"flex","flex-wrap","gap-4","text-sm","text-gray-500"],[1,"flex","items-center","gap-1.5","px-3","py-1","bg-gray-50","rounded-lg"],[1,"w-4","h-4","text-orange-500",3,"img"],[1,"font-medium","capitalize"],[1,"flex","items-center","gap-1.5","px-3","py-1","bg-emerald-50","rounded-lg","text-emerald-700"],[1,"w-4","h-4",3,"img"],[1,"font-bold"],[1,"px-4","py-2","rounded-full","text-xs","font-bold","bg-indigo-50","text-indigo-600","uppercase","tracking-wider"],[1,"cursor-pointer","px-8","py-3","mt-12","rounded-xl","font-bold","transition-all","active:scale-95","flex","items-center","gap-2",3,"click","ngClass"],["class","w-5 h-5",3,"img",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-6"],[1,"bg-white","p-8","rounded-2xl","border","border-gray-100","shadow-sm"],[1,"text-lg","font-bold","mb-4","text-gray-800","flex","items-center","gap-2"],[1,"w-5","h-5","text-indigo-500",3,"img"],[1,"text-gray-600","leading-relaxed","whitespace-pre-line"],[1,"space-y-6"],[1,"bg-white","p-6","rounded-2xl","border","border-gray-100","shadow-sm"],[1,"font-bold","text-gray-900","mb-4","flex","items-center","gap-2","text-sm","uppercase","tracking-widest"],[1,"space-y-3"],[1,"w-full","flex","items-center","justify-between","p-3","rounded-xl","border","border-gray-50","bg-gray-50/50","hover:bg-indigo-50","hover:border-indigo-100","transition-all","text-sm","group","cursor-pointer"],["target","_blank","class","w-full flex items-center justify-between p-3 rounded-xl border border-indigo-50 bg-indigo-50/30 text-indigo-600 hover:bg-indigo-50 transition-all text-sm font-semibold",3,"href",4,"ngIf"],["class","text-xs text-gray-400 italic text-center",4,"ngIf"],[1,"font-bold","text-gray-900","mb-4","text-sm","uppercase","tracking-widest"],[1,"flex","flex-wrap","gap-2"],[1,"px-3","py-1.5","bg-gray-100","text-gray-600","rounded-lg","text-xs","font-semibold","border","border-gray-200"],[1,"w-5","h-5",3,"img"],[1,"w-full","flex","items-center","justify-between","p-3","rounded-xl","border","border-gray-50","bg-gray-50/50","hover:bg-indigo-50","hover:border-indigo-100","transition-all","text-sm","group","cursor-pointer",3,"click"],[1,"truncate","text-gray-700","font-medium","group-hover:text-indigo-600"],[1,"w-4","h-4","text-gray-400","group-hover:text-indigo-500",3,"img"],["target","_blank",1,"w-full","flex","items-center","justify-between","p-3","rounded-xl","border","border-indigo-50","bg-indigo-50/30","text-indigo-600","hover:bg-indigo-50","transition-all","text-sm","font-semibold",3,"href"],[1,"text-xs","text-gray-400","italic","text-center"],[1,"flex","flex-col","items-center","justify-center","h-96","space-y-4"],[1,"w-12","h-12","border-4","border-indigo-600","border-t-transparent","rounded-full","animate-spin"],[1,"text-gray-500","font-medium"]],template:function(e,u){if(e&1&&f(0,re,70,43,"div",1)(1,oe,5,3,"ng-template",null,0,w),e&2){let x=L(2);o("ngIf",!u.loading)("ngIfElse",x)}},dependencies:[H,B,R,Q,q,U,k,G],encapsulation:2})}};export{Y as ChallengeDetails};
