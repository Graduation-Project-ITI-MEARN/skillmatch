import{c as Y,e as K,i as Z,x as ee}from"./chunk-CYRR275F.js";import{Ma as z,Ua as W,aa as j,jb as X,lb as q,mb as J,xa as G}from"./chunk-XQKT32VU.js";import{c as $,e as Q,f as A}from"./chunk-GEE437AJ.js";import{c as M,g as U}from"./chunk-CADW372H.js";import"./chunk-EZWRTDAZ.js";import{b as H}from"./chunk-5FFKEXUF.js";import{k as N,l as V,s as P}from"./chunk-OAPWU2O3.js";import{Ac as m,Fb as o,Gb as a,Hb as l,Ib as x,Pb as h,Sa as E,Ub as u,Wa as i,Wb as p,_ as I,a as L,b as k,da as y,ea as v,f as w,gc as T,ic as s,jc as b,kb as D,kc as g,lc as F,pb as f,pc as O,qc as B,rc as R,s as S,wb as C,zc as d}from"./chunk-565OUHKP.js";function ie(t,r){if(t&1){let e=h();a(0,"button",17),u("click",function(){y(e);let c=p();return c.searchQuery="",v(c.onSearchChange())}),x(1,"lucide-icon",11),l()}if(t&2){let e=p();i(),o("img",e.icons.X)}}function ne(t,r){if(t&1){let e=h();a(0,"button",20),u("click",function(){let c=y(e).$implicit,_=p(2);return v(_.selectCategory(c))}),s(1),d(2,"translate"),d(3,"translate"),l()}if(t&2){let e=r.$implicit,n=p(2);T("bg-gray-100",n.categoryFilter===e),i(),g(" ",e==="all"?m(2,3,"DASHBOARD.TALENT.CATEGORIES.ALL"):m(3,5,"DASHBOARD.TALENT.CATEGORIES."+e.toUpperCase())," ")}}function re(t,r){if(t&1&&(a(0,"div",18),f(1,ne,4,7,"button",19),l()),t&2){let e=p();i(),o("ngForOf",e.categories)}}function ae(t,r){if(t&1){let e=h();a(0,"span",25),s(1),d(2,"translate"),a(3,"button",26),u("click",function(){y(e);let c=p(2);return c.categoryFilter="all",v(c.applyFilters())}),x(4,"lucide-icon",27),l()()}if(t&2){let e=p(2);i(),g(" ",m(2,2,"DASHBOARD.TALENT.CATEGORIES."+e.categoryFilter.toUpperCase())," "),i(3),o("img",e.icons.X)}}function le(t,r){if(t&1){let e=h();a(0,"div",21)(1,"span",22),s(2),d(3,"translate"),l(),f(4,ae,5,4,"span",23),a(5,"button",24),u("click",function(){y(e);let c=p();return v(c.clearFilters())}),s(6),d(7,"translate"),l()()}if(t&2){let e=p();i(2),g("",m(3,3,"DASHBOARD.TALENT.ACTIVE_FILTERS"),":"),i(2),o("ngIf",e.categoryFilter!=="all"),i(2),g(" ",m(7,5,"DASHBOARD.TALENT.CLEAR_ALL")," ")}}function oe(t,r){t&1&&(a(0,"div",28),x(1,"div",29),a(2,"p",30),s(3),d(4,"translate"),l()()),t&2&&(i(3),b(m(4,1,"COMMON.LOADING")))}function se(t,r){if(t&1){let e=h();a(0,"button",34),u("click",function(){y(e);let c=p(2);return v(c.clearFilters())}),s(1),d(2,"translate"),l()}t&2&&(i(),g(" ",m(2,1,"DASHBOARD.TALENT.CLEAR_FILTERS")," "))}function pe(t,r){if(t&1&&(a(0,"div",31)(1,"p",32),s(2),d(3,"translate"),l(),f(4,se,3,3,"button",33),l()),t&2){let e=p();i(2),b(m(3,2,"DASHBOARD.TALENT.NO_RESULTS")),i(2),o("ngIf",e.hasActiveFilters)}}function ce(t,r){if(t&1&&(a(0,"div",54),s(1),l()),t&2){let e=p().$implicit,n=p(2);i(),g(" ",n.getCandidateInitials(e.name)," ")}}function de(t,r){if(t&1&&x(0,"img",55),t&2){let e=p().$implicit;o("src",e.profilePicture,E)("alt",e.name)}}function me(t,r){if(t&1&&(a(0,"span",59),s(1),l()),t&2){let e=r.$implicit;i(),g(" ",e," ")}}function ge(t,r){if(t&1&&(a(0,"span",60),s(1),l()),t&2){let e=p(2).$implicit;i(),g(" +",e.skills.length-5," ")}}function fe(t,r){if(t&1&&(a(0,"div",56),f(1,me,2,1,"span",57)(2,ge,2,1,"span",58),l()),t&2){let e=p().$implicit;i(),o("ngForOf",e.skills.slice(0,5)),i(),o("ngIf",e.skills.length>5)}}function ue(t,r){t&1&&x(0,"div",61)}function _e(t,r){t&1&&(a(0,"div",62),s(1),d(2,"translate"),l()),t&2&&(i(),g(" ",m(2,1,"DASHBOARD.TALENT.CURRENTLY_ENGAGED")," "))}function xe(t,r){if(t&1){let e=h();a(0,"div",37)(1,"div",38)(2,"div",39),f(3,ce,2,1,"div",40)(4,de,1,2,"img",41),a(5,"div")(6,"h3",42),s(7),l(),a(8,"p",43),s(9),l(),a(10,"p",44),s(11),d(12,"translate"),l()()(),a(13,"div",45),x(14,"lucide-icon",46),a(15,"span",47),s(16),l()()(),f(17,fe,3,2,"div",48)(18,ue,1,0,"div",49),a(19,"div",50)(20,"a",51),u("click",function(c){let _=y(e).$implicit;return v(!_._id&&c.preventDefault())}),s(21),d(22,"translate"),l(),a(23,"a",52),u("click",function(c){let _=y(e).$implicit;return v(!_.email&&c.preventDefault())}),s(24),d(25,"translate"),l()(),f(26,_e,3,3,"div",53),l()}if(t&2){let e=r.$implicit,n=p(2);i(3),o("ngIf",!e.profilePicture),i(),o("ngIf",e.profilePicture),i(3),b(e.name),i(2),g(" ",e.role||e.email||""," "),i(2),F(" ",e.challengesCompleted||0," ",m(12,23,"DASHBOARD.TALENT.CHALLENGES_COMPLETED")," "),i(3),o("img",n.icons.Star),i(2),b(e.score||0),i(),o("ngIf",e.skills&&e.skills.length>0),i(),o("ngIf",!e.skills||e.skills.length===0),i(2),T("opacity-50",!e._id)("cursor-not-allowed",!e._id),C("href",e._id?n.getPortfolioLink(e._id):"javascript:void(0)",E),i(),g(" ",m(22,25,"DASHBOARD.TALENT.VIEW_PROFILE")," "),i(2),T("opacity-50",!e.email)("cursor-not-allowed",!e.email),C("href",e.email?"mailto:"+e.email:"javascript:void(0)",E),i(),g(" ",m(25,27,"DASHBOARD.TALENT.CONTACT")," "),i(2),o("ngIf",e.status==="engaged")}}function ye(t,r){if(t&1&&(a(0,"div",35),f(1,xe,27,29,"div",36),l()),t&2){let e=p();i(),o("ngForOf",e.filteredTalentList)}}var te=class t{constructor(){this.http=I(H);this.router=I(M);this.icons={Search:z,Filter:j,Star:W,MessageSquare:G,X};this.talentList=[];this.filteredTalentList=[];this.searchQuery="";this.isLoading=!1;this.showFilterDropdown=!1;this.categoryFilter="all";this.categories=["all"]}ngOnInit(){return w(this,null,function*(){yield this.loadCategories(),yield this.loadTalent()})}loadCategories(){return w(this,null,function*(){try{let r=yield S(this.http.get(`${A.apiUrl}/metadata/categories`));r.success&&Array.isArray(r.data)&&(this.categories=["all",...r.data])}catch(r){console.error("Error loading categories:",r),this.categories=["all","Development","Design","Marketing","Writing"]}})}loadTalent(){return w(this,null,function*(){try{this.isLoading=!0;let r={};this.categoryFilter!=="all"&&(r.category=this.categoryFilter),this.searchQuery&&(r.name=this.searchQuery);let e=yield S(this.http.get(`${A.apiUrl}/leaderboard`,{params:r}));e.success&&Array.isArray(e.data)?(this.talentList=e.data.map(n=>k(L({},n),{_id:n._id||n.id||void 0,email:n.email||void 0,profilePicture:n.profilePicture||"",skills:n.skills||[],status:n.status||"available",role:n.role||""})),console.log("Fetched leaderboard data:",this.talentList)):this.talentList=[],this.filteredTalentList=this.talentList}catch(r){console.error("Error loading talent:",r),this.talentList=[],this.filteredTalentList=[]}finally{this.isLoading=!1}})}getPortfolioLink(r){return`${A.nextJsUrl}/leaderboard/${r}`}applyFilters(){this.loadTalent()}onSearchChange(){this.applyFilters()}toggleFilterDropdown(){this.showFilterDropdown=!this.showFilterDropdown}selectCategory(r){this.categoryFilter=r,this.showFilterDropdown=!1,this.applyFilters()}clearFilters(){this.searchQuery="",this.categoryFilter="all",this.applyFilters()}get hasActiveFilters(){return this.searchQuery!==""||this.categoryFilter!=="all"}getCandidateInitials(r){let e=r.trim().split(" ");return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():r.substring(0,2).toUpperCase()}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=D({type:t,selectors:[["app-talent-pool"]],decls:26,vars:25,consts:[[1,"talent-pool-container","bg-[#fcfcfd]","min-h-screen"],[1,"mb-8"],[1,"text-2xl","font-semibold","text-[#101828]","mb-2"],[1,"text-gray-600","text-sm"],[1,"flex","flex-col","sm:flex-row","gap-4","mb-6"],[1,"relative","w-full","sm:max-w-lg"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","w-5","h-5","text-gray-400","pointer-events-none",3,"img"],["type","text",1,"w-full","pl-12","pr-10","py-3","border","border-gray-200","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-gray-900","focus:border-gray-900","bg-white",3,"ngModelChange","ngModel","placeholder"],["class","absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",3,"click",4,"ngIf"],[1,"relative"],[1,"flex","items-center","justify-center","gap-2","px-6","py-3","border","border-gray-200","rounded-lg","hover:bg-gray-50","transition-colors","whitespace-nowrap","bg-white","w-full","sm:w-auto",3,"click"],[1,"w-5","h-5",3,"img"],["class","absolute right-0 z-10 mt-1 w-full sm:w-48 bg-white border border-gray-200 rounded-lg shadow-lg",4,"ngIf"],["class","flex flex-wrap items-center gap-2 mb-6",4,"ngIf"],["class","text-center py-12",4,"ngIf"],["class","text-center py-12 text-gray-500",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 gap-6",4,"ngIf"],[1,"absolute","right-3","top-1/2","-translate-y-1/2","text-gray-400","hover:text-gray-600",3,"click"],[1,"absolute","right-0","z-10","mt-1","w-full","sm:w-48","bg-white","border","border-gray-200","rounded-lg","shadow-lg"],["type","button","class","w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors text-sm font-medium",3,"bg-gray-100","click",4,"ngFor","ngForOf"],["type","button",1,"w-full","text-left","px-4","py-3","hover:bg-gray-50","transition-colors","text-sm","font-medium",3,"click"],[1,"flex","flex-wrap","items-center","gap-2","mb-6"],[1,"text-sm","text-gray-600"],["class","px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-2 font-medium",4,"ngIf"],[1,"text-sm","text-blue-600","hover:text-blue-800","font-medium",3,"click"],[1,"px-3","py-1","bg-blue-100","text-blue-700","rounded-full","text-sm","flex","items-center","gap-2","font-medium"],[1,"hover:text-blue-900",3,"click"],[1,"w-3","h-3",3,"img"],[1,"text-center","py-12"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-gray-900"],[1,"mt-2","text-gray-600"],[1,"text-center","py-12","text-gray-500"],[1,"text-lg"],["class","mt-4 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm",3,"click",4,"ngIf"],[1,"mt-4","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","text-sm",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["class","bg-white rounded-2xl border border-gray-100 p-6 hover:shadow-md transition-shadow flex flex-col h-full",4,"ngFor","ngForOf"],[1,"bg-white","rounded-2xl","border","border-gray-100","p-6","hover:shadow-md","transition-shadow","flex","flex-col","h-full"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex","items-center","gap-4"],["class","w-14 h-14 bg-primary-gradient rounded-full flex items-center justify-center text-white text-lg font-semibold shrink-0",4,"ngIf"],["class","w-14 h-14 rounded-full object-cover shrink-0",3,"src","alt",4,"ngIf"],[1,"text-lg","font-semibold","text-[#101828]","wrap-break-word"],[1,"text-gray-600","text-sm","break-all"],[1,"text-gray-500","text-xs","mt-1"],[1,"flex","items-center","gap-2","shrink-0"],[1,"w-5","h-5","text-yellow-500","fill-yellow-500",3,"img"],[1,"text-xl","font-bold","text-[#101828]"],["class","flex flex-wrap gap-2 mb-6 mt-auto",4,"ngIf"],["class","mb-6 mt-auto",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","gap-3"],["target","_blank",1,"flex-1","px-4","py-2.5","bg-[#101828]","text-white","rounded-lg","hover:bg-black","transition-colors","text-sm","font-medium",2,"text-decoration","none",3,"click"],[1,"flex-1","sm:flex-initial","px-4","py-2.5","border","border-gray-300","rounded-lg","hover:bg-gray-50","transition-colors","text-sm","font-medium",2,"text-decoration","none",3,"click"],["class","mt-3 text-center text-sm text-gray-500 bg-gray-50 py-2 rounded-lg",4,"ngIf"],[1,"w-14","h-14","bg-primary-gradient","rounded-full","flex","items-center","justify-center","text-white","text-lg","font-semibold","shrink-0"],[1,"w-14","h-14","rounded-full","object-cover","shrink-0",3,"src","alt"],[1,"flex","flex-wrap","gap-2","mb-6","mt-auto"],["class","px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs sm:text-sm font-medium",4,"ngFor","ngForOf"],["class","px-3 py-1 bg-gray-200 text-gray-600 rounded-full text-xs font-medium",4,"ngIf"],[1,"px-3","py-1","bg-gray-100","text-gray-700","rounded-full","text-xs","sm:text-sm","font-medium"],[1,"px-3","py-1","bg-gray-200","text-gray-600","rounded-full","text-xs","font-medium"],[1,"mb-6","mt-auto"],[1,"mt-3","text-center","text-sm","text-gray-500","bg-gray-50","py-2","rounded-lg"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h2",2),s(3),d(4,"translate"),l(),a(5,"p",3),s(6),d(7,"translate"),l()(),a(8,"div",4)(9,"div",5),x(10,"lucide-icon",6),a(11,"input",7),d(12,"translate"),R("ngModelChange",function(_){return B(n.searchQuery,_)||(n.searchQuery=_),_}),u("ngModelChange",function(){return n.onSearchChange()}),l(),f(13,ie,2,1,"button",8),l(),a(14,"div",9)(15,"button",10),u("click",function(){return n.toggleFilterDropdown()}),x(16,"lucide-icon",11),a(17,"span"),s(18),d(19,"translate"),d(20,"translate"),l()(),f(21,re,2,1,"div",12),l()(),f(22,le,8,7,"div",13)(23,oe,5,3,"div",14)(24,pe,5,4,"div",15)(25,ye,2,1,"div",16),l()),e&2&&(i(3),g(" ",m(4,15,"DASHBOARD.TALENT.TITLE")," "),i(3),g(" ",m(7,17,"DASHBOARD.TALENT.SUBTITLE")," "),i(4),o("img",n.icons.Search),i(),O("ngModel",n.searchQuery),o("placeholder",m(12,19,"DASHBOARD.TALENT.SEARCH_PLACEHOLDER")),i(2),o("ngIf",n.searchQuery),i(2),T("bg-gray-100",n.categoryFilter!=="all"),i(),o("img",n.icons.Filter),i(2),g(" ",n.categoryFilter==="all"?m(19,21,"DASHBOARD.TALENT.FILTERS"):m(20,23,"DASHBOARD.TALENT.CATEGORIES."+n.categoryFilter.toUpperCase())," "),i(3),o("ngIf",n.showFilterDropdown),i(),o("ngIf",n.hasActiveFilters),i(),o("ngIf",n.isLoading),i(),o("ngIf",!n.isLoading&&n.filteredTalentList.length===0),i(),o("ngIf",!n.isLoading&&n.filteredTalentList.length>0))},dependencies:[P,N,V,ee,Y,K,Z,Q,J,q,U,$],encapsulation:2})}};export{te as Talent};
